import{r as T,Y as b,y as ee,J as oe,N as D,o as le,z as te,g as w,b as n,c as r,d as l,t as u,n as K,f as i,Z as G,$ as J,H as p,I as h,h as B,i as x,O as k,a0 as se,e as ne,B as ae,W as P,v as V,U as Q,a1 as re,V as ie,a2 as ce,a3 as de,Q as ue}from"./main-B8r1lKmx.js";import{v as pe}from"./el-loading-Zn4JAFDP.js";import{E as _e}from"./el-image-viewer-d2TtpsQs.js";import{a as fe,E as ve}from"./el-tab-pane-d_50VU1i.js";import{u as me}from"./links-trITkSLu.js";function he(){const a=T(null);return{scrollRef:a,scrollToBottom:async()=>{await b(),a.value&&(a.value.scrollTop=a.value.scrollHeight)},scrollToTop:async()=>{await b(),a.value&&(a.value.scrollTop=0)},scrollTo:async(f,g=0)=>{await b();const c=document.querySelector(f);a.value&&c&&(a.value.scrollTop=c.offsetTop+g),await b()},scrollToVal:async f=>{await b(),a.value&&(a.value.scrollTop=f)},scrollToBottomIfAtBottom:async()=>{await b(),a.value&&a.value.scrollHeight-a.value.scrollTop-a.value.clientHeight<=100&&(a.value.scrollTop=a.value.scrollHeight)}}}const xe={class:"w-4/6 mx-auto py-8 text-center"},ge={class:"text-[40px] font-bold text-black"},be={class:"flex items-center justify-between mt-4"},we={class:"flex-1 flex items-center gap-3"},ye=["onClick"],ke=["src"],Te={class:"flex items-center gap-2 overflow-hidden transition-all duration-300 flex-grow"},Ce={class:"text-sm truncate"},Ee={class:"flex-center gap-5"},Ve={class:"text-[#182B50] text-opacity-40 text-sm"},$e={class:"mt-7 flex flex-wrap gap-3 justify-center"},Be={class:"flex items-center justify-between w-5/6 mx-auto"},Fe={class:"w-5/6 mx-auto mt-4"},Ie=["id"],Me=["onClick"],Se={class:"flex-1 overflow-hidden"},Ae=["title"],ze=["title"],Ne={key:1,class:"flex-1 flex flex-col overflow-hidden"},Ue={class:"flex-none pt-8 pb-5 flex items-center justify-between w-5/6 mx-auto box-border"},qe={class:"w-5/6 mx-auto mt-4"},Le=["id"],Re=["onClick"],je={class:"flex-1 overflow-hidden"},He=["title"],Oe=["title"],W=2,De=ee({__name:"toolbox",setup(a){const _=me(),{scrollRef:$,scrollTo:F,scrollToTop:I}=he(),d=oe({group_id:0,keyword:""}),f=T(!1),g=T(!1),c=T(""),C=T([{name:"百度AI+",value:"baiduai+",checked:!0,url:"https://chat.baidu.com/search?word=_word_"},{name:"纳米搜索",value:"n",checked:!0,url:"https://www.n.cn/?q=_word_"},{name:"秘塔",value:"metaso",checked:!1,url:"https://metaso.cn/?q=_word_"},{name:"Perplexity",value:"perplexity",checked:!1,url:"https://perplexity.ai/search?q=_word_"}]),X=["👨‍💼 上班族预防病自救教程","🍽️ 日报/周报让你头疼？点击领取模板","🤔 遇到地震是该跑还是该躲？","💰 有哪些可以不靠年终奖就能赚钱的门路？","⚡ 针对时间管理的10大实用技巧","🎨 自己做自媒体应该如何快速起步？"],Y=D(()=>c.value.trim().length>0&&C.value.some(t=>t.checked)),y=D(()=>_.categorys.filter(t=>{if(t.group_id===0)return!0;const o=_.appMap[t.group_id];return!(!o||o.length===0)})),Z=t=>{const o=C.value.filter(v=>v.checked);if(!t.checked&&o.length>=W){re.warning(window.$t("toolbox.max_agent_count",{count:W}));return}t.checked=!t.checked},M=async()=>{const t=C.value.filter(o=>o.checked);window.$isElectron?window.$chat53ai.$win({type:"new-tab",data:JSON.stringify({title:window.$t("toolbox.name")+"-"+c.value,urls:t.map(o=>o.url.replace("_word_",encodeURIComponent(c.value)))})}):t.forEach(o=>{window.open(o.url.replace("_word_",encodeURIComponent(c.value)))}),c.value=""},S=t=>{const o=t.props.name;o===0?I():F(`#toolbox_cate_${o}`)},A=()=>{const t=d.keyword.trim().toLowerCase();Object.keys(_.appMap).forEach(o=>{const v=_.appMap[o];v.forEach(m=>{m.visible=t===""||m.name.toLowerCase().includes(t)});const E=y.value.find(m=>m.group_id===Number(o));E&&(E.visible=v.some(m=>m.visible))})},z=t=>{window.open(t.url,"_blank")};return le(()=>{f.value=!0,_.loadCategorys(),_.loadLinks().finally(()=>{f.value=!1})}),(t,o)=>{var j,H;const v=ie,E=ce,m=te("svg-icon"),N=de,U=fe,q=ve,L=_e,R=pe;return t.$isElectron?w((n(),r("div",{key:0,class:"flex-1 flex flex-col relative overflow-y-auto",ref_key:"scrollRef",ref:$},[l("div",xe,[l("h2",ge,u(t.$t("toolbox.title")),1),l("div",{class:K(["bg-white rounded-lg p-4 mt-9 border",[g.value?"border-[#0672FF]":""]])},[i(v,{type:"textarea",modelValue:c.value,"onUpdate:modelValue":o[0]||(o[0]=e=>c.value=e),placeholder:t.$t("toolbox.input_placeholder"),rows:5,resize:"none",style:{"--el-input-text-color":"#182b50","--el-input-bg-color":"transparent","--el-border-color":"none","--el-input-focus-border":"none","--el-input-hover-border":"none","--el-input-hover-border-color":"none","--el-input-focus-border-color":"none"},onFocus:o[1]||(o[1]=e=>g.value=!0),onBlur:o[2]||(o[2]=e=>g.value=!1),onKeyup:[G(J(M,["exact"]),["enter"]),G(J(()=>{},["shift","exact"]),["enter"])]},null,8,["modelValue","placeholder","onKeyup"]),l("div",be,[l("div",we,[(n(!0),r(p,null,h(C.value,e=>(n(),r("div",{key:e.value,class:K(["h-9 px-2.5 flex-center gap-2 rounded-full border cursor-pointer min-w-[28px]",[e.checked?"bg-[#EBF3FC] text-black border-[#0672FF]":"text-[#AAA] bg-[#EBF4F7] border-[#EBF4F7]"]]),onClick:s=>Z(e)},[l("img",{class:"size-[22px] rounded-full",src:`https://chat.53ai.com/images/toolbox/${e.value}.png`},null,8,ke),l("div",Te,[l("span",Ce,u(e.name),1),e.checked?(n(),B(E,{key:0,color:"#0672FF"},{default:x(()=>[i(k(se))]),_:1})):ne("",!0)])],10,ye))),128))]),l("div",Ee,[l("div",Ve,u(c.value.length)+"/300",1),i(N,{class:"w-8 h-8",type:"primary",disabled:!Y.value,onClick:M},{default:x(()=>[i(m,{name:"send",size:"14"})]),_:1},8,["disabled"])])])],2),l("div",$e,[(n(),r(p,null,h(X,(e,s)=>i(N,{key:s,class:"!border-[#D3EAF2] !text-gray-600 !ml-0",onClick:O=>c.value=e},{default:x(()=>[ae(u(e),1)]),_:2},1032,["onClick"])),64))])]),o[7]||(o[7]=l("div",{class:"mt-10 mb-20"},null,-1)),l("div",Be,[i(q,{modelValue:d.group_id,"onUpdate:modelValue":o[3]||(o[3]=e=>d.group_id=e),class:"index-tabs flex-1 overflow-hidden",style:{"--el-tabs-header-height":"36px"},onTabClick:S},{default:x(()=>[(n(!0),r(p,null,h(y.value,e=>(n(),B(U,{key:e.group_name,label:e.group_name,name:e.group_id},null,8,["label","name"]))),128))]),_:1},8,["modelValue"]),l("div",null,[i(v,{modelValue:d.keyword,"onUpdate:modelValue":o[4]||(o[4]=e=>d.keyword=e),style:{"--el-input-inner-height":"36px",width:"268px"},"prefix-icon":k(P),placeholder:t.$t("toolbox.search_placeholder"),onInput:A},null,8,["modelValue","prefix-icon","placeholder"])])]),l("div",Fe,[(n(!0),r(p,null,h((j=y.value)==null?void 0:j.filter(e=>e.group_id!=0),e=>(n(),r(p,{key:e.group_id},[w(l("div",{id:`toolbox_cate_${e.group_id}`,class:"text-secondary text-sm py-4"},u(e.group_name),9,Ie),[[V,e.visible]]),i(Q,{name:"list",tag:"div",class:"grid grid-cols-4 gap-5 mb-4 max-lg:grid-cols-3 max-md:grid-cols-2 max-sm:grid-cols-1"},{default:x(()=>[(n(!0),r(p,null,h(k(_).appMap[e.group_id],s=>w((n(),r("div",{key:s.key,onClick:O=>z(s),class:"h-[80px] bg-white rounded px-5 flex items-center gap-2 cursor-pointer border border-[#ECECEC] hover:shadow"},[i(L,{class:"size-[40px] rounded-full",fit:"contain",lazy:"",src:s.logo},null,8,["src"]),l("div",Se,[l("div",{class:"text-sm text-primary font-semibold truncate",title:s.name},u(s.name),9,Ae),l("div",{class:"mt-1 text-xs truncate text-regular",title:s.description},u(s.description),9,ze)])],8,Me)),[[V,s.visible]])),128))]),_:2},1024)],64))),128))])])),[[R,f.value]]):w((n(),r("div",Ne,[l("div",Ue,[i(q,{modelValue:d.group_id,"onUpdate:modelValue":o[5]||(o[5]=e=>d.group_id=e),class:"index-tabs flex-1 overflow-hidden",style:{"--el-tabs-header-height":"36px"},onTabClick:S},{default:x(()=>[(n(!0),r(p,null,h(y.value,e=>(n(),B(U,{key:e.group_name,label:e.group_name,name:e.group_id},null,8,["label","name"]))),128))]),_:1},8,["modelValue"]),l("div",null,[i(v,{modelValue:d.keyword,"onUpdate:modelValue":o[6]||(o[6]=e=>d.keyword=e),style:{"--el-input-inner-height":"36px",width:"268px"},"prefix-icon":k(P),placeholder:t.$t("toolbox.search_placeholder"),onInput:A},null,8,["modelValue","prefix-icon","placeholder"])])]),l("div",{class:"flex-1 overflow-y-auto relative",ref_key:"scrollRef",ref:$},[l("div",qe,[(n(!0),r(p,null,h((H=y.value)==null?void 0:H.filter(e=>e.group_id!=0),e=>(n(),r(p,{key:e.group_id},[w(l("div",{id:`toolbox_cate_${e.group_id}`,class:"text-secondary text-sm py-4"},u(e.group_name),9,Le),[[V,e.visible]]),i(Q,{name:"list",tag:"div",class:"grid grid-cols-4 gap-5 mb-4 max-lg:grid-cols-3 max-md:grid-cols-2 max-sm:grid-cols-1"},{default:x(()=>[(n(!0),r(p,null,h(k(_).appMap[e.group_id],s=>w((n(),r("div",{key:s.key,onClick:O=>z(s),class:"h-[80px] bg-white rounded px-5 flex items-center gap-2 cursor-pointer border border-[#ECECEC] hover:shadow"},[i(L,{class:"size-[40px] rounded-full",fit:"contain",lazy:"",src:s.logo},null,8,["src"]),l("div",je,[l("div",{class:"text-sm text-primary font-semibold truncate",title:s.name},u(s.name),9,He),l("div",{class:"mt-1 text-xs truncate text-regular",title:s.description},u(s.description),9,Oe)])],8,Re)),[[V,s.visible]])),128))]),_:2},1024)],64))),128))])],512)])),[[R,f.value]])}}}),We=ue(De,[["__scopeId","data-v-ee08b746"]]);export{We as T};
