import{y as T,ba as Ke,ak as te,N as j,b as $,c as P,aq as G,n as L,O as w,am as ne,X as ae,ar as $e,bc as se,an as We,ay as je,e as D,a7 as Q,r as R,b5 as Se,o as Me,H as Y,ai as ve,a$ as ie,a as Ae,f as C,i as F,g as ee,d as l,t as _,h as re,B as oe,br as Je,bs as de,Y as fe,bt as Xe,bu as Ze,a3 as he,bv as Pe,a2 as pe,C as et,F as tt,b6 as le,aJ as nt,$ as V,v as ye,I as ce,aK as ot,aI as at,bw as ue,Q as rt,bx as st,by as Ee,bz as xe,bA as it,bB as lt,bC as ct,K as Ce,z as ut,ah as dt,a1 as ft}from"./main-B8r1lKmx.js";import{E as vt,a as ht,b as pt}from"./el-scrollbar-1uaSUXqY.js";import{E as _t}from"./el-image-viewer-d2TtpsQs.js";import{v as Ne}from"./el-loading-Zn4JAFDP.js";import{u as mt}from"./enterprise-Dlct5MeJ.js";import{u as gt}from"./global-g8PxrI0_.js";const bt=T({name:"ElContainer"}),wt=T({...bt,props:{direction:{type:String}},setup(s){const d=s,i=Ke(),u=te("container"),f=j(()=>d.direction==="vertical"?!0:d.direction==="horizontal"?!1:i&&i.default?i.default().some(o=>{const e=o.type.name;return e==="ElHeader"||e==="ElFooter"}):!1);return(h,o)=>($(),P("section",{class:L([w(u).b(),w(u).is("vertical",w(f))])},[G(h.$slots,"default")],2))}});var yt=ne(wt,[["__file","container.vue"]]);const Et=T({name:"ElAside"}),xt=T({...Et,props:{width:{type:String,default:null}},setup(s){const d=s,i=te("aside"),u=j(()=>d.width?i.cssVarBlock({width:d.width}):{});return(f,h)=>($(),P("aside",{class:L(w(i).b()),style:ae(w(u))},[G(f.$slots,"default")],6))}});var Re=ne(xt,[["__file","aside.vue"]]);const Ct=T({name:"ElFooter"}),$t=T({...Ct,props:{height:{type:String,default:null}},setup(s){const d=s,i=te("footer"),u=j(()=>d.height?i.cssVarBlock({height:d.height}):{});return(f,h)=>($(),P("footer",{class:L(w(i).b()),style:ae(w(u))},[G(f.$slots,"default")],6))}});var Fe=ne($t,[["__file","footer.vue"]]);const St=T({name:"ElHeader"}),Mt=T({...St,props:{height:{type:String,default:null}},setup(s){const d=s,i=te("header"),u=j(()=>d.height?i.cssVarBlock({height:d.height}):{});return(f,h)=>($(),P("header",{class:L(w(i).b()),style:ae(w(u))},[G(f.$slots,"default")],6))}});var ze=ne(Mt,[["__file","header.vue"]]);const At=T({name:"ElMain"}),Pt=T({...At,setup(s){const d=te("main");return(i,u)=>($(),P("main",{class:L(w(d).b())},[G(i.$slots,"default")],2))}});var ke=ne(Pt,[["__file","main.vue"]]);const Nt=$e(yt,{Aside:Re,Footer:Fe,Header:ze,Main:ke}),Rt=se(Re);se(Fe);se(ze);const Ft=se(ke),zt=We({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:je(String),default:"solid"}}),kt=T({name:"ElDivider"}),It=T({...kt,props:zt,setup(s){const d=s,i=te("divider"),u=j(()=>i.cssVar({"border-style":d.borderStyle}));return(f,h)=>($(),P("div",{class:L([w(i).b(),w(i).m(f.direction)]),style:ae(w(u)),role:"separator"},[f.$slots.default&&f.direction!=="vertical"?($(),P("div",{key:0,class:L([w(i).e("text"),w(i).is(f.contentPosition)])},[G(f.$slots,"default")],2)):D("v-if",!0)],6))}});var Lt=ne(It,[["__file","divider.vue"]]);const Tt=$e(Lt);/*!
 * qrcode.vue v3.6.0
 * A Vue.js component to generate QRCode. Both support Vue 2 and Vue 3
 * Â© 2017-PRESENT @scopewu(https://github.com/scopewu)
 * MIT License.
 */var q=function(){return q=Object.assign||function(d){for(var i,u=1,f=arguments.length;u<f;u++){i=arguments[u];for(var h in i)Object.prototype.hasOwnProperty.call(i,h)&&(d[h]=i[h])}return d},q.apply(this,arguments)};var X;(function(s){var d=function(){function o(e,t,n,a){if(this.version=e,this.errorCorrectionLevel=t,this.modules=[],this.isFunction=[],e<o.MIN_VERSION||e>o.MAX_VERSION)throw new RangeError("Version value out of range");if(a<-1||a>7)throw new RangeError("Mask value out of range");this.size=e*4+17;for(var c=[],r=0;r<this.size;r++)c.push(!1);for(var r=0;r<this.size;r++)this.modules.push(c.slice()),this.isFunction.push(c.slice());this.drawFunctionPatterns();var v=this.addEccAndInterleave(n);if(this.drawCodewords(v),a==-1)for(var g=1e9,r=0;r<8;r++){this.applyMask(r),this.drawFormatBits(r);var m=this.getPenaltyScore();m<g&&(a=r,g=m),this.applyMask(r)}f(0<=a&&a<=7),this.mask=a,this.applyMask(a),this.drawFormatBits(a),this.isFunction=[]}return o.encodeText=function(e,t){var n=s.QrSegment.makeSegments(e);return o.encodeSegments(n,t)},o.encodeBinary=function(e,t){var n=s.QrSegment.makeBytes(e);return o.encodeSegments([n],t)},o.encodeSegments=function(e,t,n,a,c,r){if(n===void 0&&(n=1),a===void 0&&(a=40),c===void 0&&(c=-1),r===void 0&&(r=!0),!(o.MIN_VERSION<=n&&n<=a&&a<=o.MAX_VERSION)||c<-1||c>7)throw new RangeError("Invalid value");var v,g;for(v=n;;v++){var m=o.getNumDataCodewords(v,t)*8,y=h.getTotalBits(e,v);if(y<=m){g=y;break}if(v>=a)throw new RangeError("Data too long")}for(var A=0,N=[o.Ecc.MEDIUM,o.Ecc.QUARTILE,o.Ecc.HIGH];A<N.length;A++){var S=N[A];r&&g<=o.getNumDataCodewords(v,S)*8&&(t=S)}for(var x=[],E=0,I=e;E<I.length;E++){var k=I[E];i(k.mode.modeBits,4,x),i(k.numChars,k.mode.numCharCountBits(v),x);for(var O=0,B=k.getData();O<B.length;O++){var K=B[O];x.push(K)}}f(x.length==g);var U=o.getNumDataCodewords(v,t)*8;f(x.length<=U),i(0,Math.min(4,U-x.length),x),i(0,(8-x.length%8)%8,x),f(x.length%8==0);for(var H=236;x.length<U;H^=253)i(H,8,x);for(var p=[];p.length*8<x.length;)p.push(0);return x.forEach(function(M,z){return p[z>>>3]|=M<<7-(z&7)}),new o(v,t,p,c)},o.prototype.getModule=function(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]},o.prototype.getModules=function(){return this.modules},o.prototype.drawFunctionPatterns=function(){for(var e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var t=this.getAlignmentPatternPositions(),n=t.length,e=0;e<n;e++)for(var a=0;a<n;a++)e==0&&a==0||e==0&&a==n-1||e==n-1&&a==0||this.drawAlignmentPattern(t[e],t[a]);this.drawFormatBits(0),this.drawVersion()},o.prototype.drawFormatBits=function(e){for(var t=this.errorCorrectionLevel.formatBits<<3|e,n=t,a=0;a<10;a++)n=n<<1^(n>>>9)*1335;var c=(t<<10|n)^21522;f(c>>>15==0);for(var a=0;a<=5;a++)this.setFunctionModule(8,a,u(c,a));this.setFunctionModule(8,7,u(c,6)),this.setFunctionModule(8,8,u(c,7)),this.setFunctionModule(7,8,u(c,8));for(var a=9;a<15;a++)this.setFunctionModule(14-a,8,u(c,a));for(var a=0;a<8;a++)this.setFunctionModule(this.size-1-a,8,u(c,a));for(var a=8;a<15;a++)this.setFunctionModule(8,this.size-15+a,u(c,a));this.setFunctionModule(8,this.size-8,!0)},o.prototype.drawVersion=function(){if(!(this.version<7)){for(var e=this.version,t=0;t<12;t++)e=e<<1^(e>>>11)*7973;var n=this.version<<12|e;f(n>>>18==0);for(var t=0;t<18;t++){var a=u(n,t),c=this.size-11+t%3,r=Math.floor(t/3);this.setFunctionModule(c,r,a),this.setFunctionModule(r,c,a)}}},o.prototype.drawFinderPattern=function(e,t){for(var n=-4;n<=4;n++)for(var a=-4;a<=4;a++){var c=Math.max(Math.abs(a),Math.abs(n)),r=e+a,v=t+n;0<=r&&r<this.size&&0<=v&&v<this.size&&this.setFunctionModule(r,v,c!=2&&c!=4)}},o.prototype.drawAlignmentPattern=function(e,t){for(var n=-2;n<=2;n++)for(var a=-2;a<=2;a++)this.setFunctionModule(e+a,t+n,Math.max(Math.abs(a),Math.abs(n))!=1)},o.prototype.setFunctionModule=function(e,t,n){this.modules[t][e]=n,this.isFunction[t][e]=!0},o.prototype.addEccAndInterleave=function(e){var t=this.version,n=this.errorCorrectionLevel;if(e.length!=o.getNumDataCodewords(t,n))throw new RangeError("Invalid argument");for(var a=o.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][t],c=o.ECC_CODEWORDS_PER_BLOCK[n.ordinal][t],r=Math.floor(o.getNumRawDataModules(t)/8),v=a-r%a,g=Math.floor(r/a),m=[],y=o.reedSolomonComputeDivisor(c),A=0,N=0;A<a;A++){var S=e.slice(N,N+g-c+(A<v?0:1));N+=S.length;var x=o.reedSolomonComputeRemainder(S,y);A<v&&S.push(0),m.push(S.concat(x))}for(var E=[],I=function(k){m.forEach(function(O,B){(k!=g-c||B>=v)&&E.push(O[k])})},A=0;A<m[0].length;A++)I(A);return f(E.length==r),E},o.prototype.drawCodewords=function(e){if(e.length!=Math.floor(o.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var t=0,n=this.size-1;n>=1;n-=2){n==6&&(n=5);for(var a=0;a<this.size;a++)for(var c=0;c<2;c++){var r=n-c,v=(n+1&2)==0,g=v?this.size-1-a:a;!this.isFunction[g][r]&&t<e.length*8&&(this.modules[g][r]=u(e[t>>>3],7-(t&7)),t++)}}f(t==e.length*8)},o.prototype.applyMask=function(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(var t=0;t<this.size;t++)for(var n=0;n<this.size;n++){var a=void 0;switch(e){case 0:a=(n+t)%2==0;break;case 1:a=t%2==0;break;case 2:a=n%3==0;break;case 3:a=(n+t)%3==0;break;case 4:a=(Math.floor(n/3)+Math.floor(t/2))%2==0;break;case 5:a=n*t%2+n*t%3==0;break;case 6:a=(n*t%2+n*t%3)%2==0;break;case 7:a=((n+t)%2+n*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[t][n]&&a&&(this.modules[t][n]=!this.modules[t][n])}},o.prototype.getPenaltyScore=function(){for(var e=0,t=0;t<this.size;t++){for(var n=!1,a=0,c=[0,0,0,0,0,0,0],r=0;r<this.size;r++)this.modules[t][r]==n?(a++,a==5?e+=o.PENALTY_N1:a>5&&e++):(this.finderPenaltyAddHistory(a,c),n||(e+=this.finderPenaltyCountPatterns(c)*o.PENALTY_N3),n=this.modules[t][r],a=1);e+=this.finderPenaltyTerminateAndCount(n,a,c)*o.PENALTY_N3}for(var r=0;r<this.size;r++){for(var n=!1,v=0,c=[0,0,0,0,0,0,0],t=0;t<this.size;t++)this.modules[t][r]==n?(v++,v==5?e+=o.PENALTY_N1:v>5&&e++):(this.finderPenaltyAddHistory(v,c),n||(e+=this.finderPenaltyCountPatterns(c)*o.PENALTY_N3),n=this.modules[t][r],v=1);e+=this.finderPenaltyTerminateAndCount(n,v,c)*o.PENALTY_N3}for(var t=0;t<this.size-1;t++)for(var r=0;r<this.size-1;r++){var g=this.modules[t][r];g==this.modules[t][r+1]&&g==this.modules[t+1][r]&&g==this.modules[t+1][r+1]&&(e+=o.PENALTY_N2)}for(var m=0,y=0,A=this.modules;y<A.length;y++){var N=A[y];m=N.reduce(function(E,I){return E+(I?1:0)},m)}var S=this.size*this.size,x=Math.ceil(Math.abs(m*20-S*10)/S)-1;return f(0<=x&&x<=9),e+=x*o.PENALTY_N4,f(0<=e&&e<=2568888),e},o.prototype.getAlignmentPatternPositions=function(){if(this.version==1)return[];for(var e=Math.floor(this.version/7)+2,t=Math.floor((this.version*8+e*3+5)/(e*4-4))*2,n=[6],a=this.size-7;n.length<e;a-=t)n.splice(1,0,a);return n},o.getNumRawDataModules=function(e){if(e<o.MIN_VERSION||e>o.MAX_VERSION)throw new RangeError("Version number out of range");var t=(16*e+128)*e+64;if(e>=2){var n=Math.floor(e/7)+2;t-=(25*n-10)*n-55,e>=7&&(t-=36)}return f(208<=t&&t<=29648),t},o.getNumDataCodewords=function(e,t){return Math.floor(o.getNumRawDataModules(e)/8)-o.ECC_CODEWORDS_PER_BLOCK[t.ordinal][e]*o.NUM_ERROR_CORRECTION_BLOCKS[t.ordinal][e]},o.reedSolomonComputeDivisor=function(e){if(e<1||e>255)throw new RangeError("Degree out of range");for(var t=[],n=0;n<e-1;n++)t.push(0);t.push(1);for(var a=1,n=0;n<e;n++){for(var c=0;c<t.length;c++)t[c]=o.reedSolomonMultiply(t[c],a),c+1<t.length&&(t[c]^=t[c+1]);a=o.reedSolomonMultiply(a,2)}return t},o.reedSolomonComputeRemainder=function(e,t){for(var n=t.map(function(g){return 0}),a=function(g){var m=g^n.shift();n.push(0),t.forEach(function(y,A){return n[A]^=o.reedSolomonMultiply(y,m)})},c=0,r=e;c<r.length;c++){var v=r[c];a(v)}return n},o.reedSolomonMultiply=function(e,t){if(e>>>8||t>>>8)throw new RangeError("Byte out of range");for(var n=0,a=7;a>=0;a--)n=n<<1^(n>>>7)*285,n^=(t>>>a&1)*e;return f(n>>>8==0),n},o.prototype.finderPenaltyCountPatterns=function(e){var t=e[1];f(t<=this.size*3);var n=t>0&&e[2]==t&&e[3]==t*3&&e[4]==t&&e[5]==t;return(n&&e[0]>=t*4&&e[6]>=t?1:0)+(n&&e[6]>=t*4&&e[0]>=t?1:0)},o.prototype.finderPenaltyTerminateAndCount=function(e,t,n){return e&&(this.finderPenaltyAddHistory(t,n),t=0),t+=this.size,this.finderPenaltyAddHistory(t,n),this.finderPenaltyCountPatterns(n)},o.prototype.finderPenaltyAddHistory=function(e,t){t[0]==0&&(e+=this.size),t.pop(),t.unshift(e)},o.MIN_VERSION=1,o.MAX_VERSION=40,o.PENALTY_N1=3,o.PENALTY_N2=3,o.PENALTY_N3=40,o.PENALTY_N4=10,o.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],o.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],o}();s.QrCode=d;function i(o,e,t){if(e<0||e>31||o>>>e)throw new RangeError("Value out of range");for(var n=e-1;n>=0;n--)t.push(o>>>n&1)}function u(o,e){return(o>>>e&1)!=0}function f(o){if(!o)throw new Error("Assertion error")}var h=function(){function o(e,t,n){if(this.mode=e,this.numChars=t,this.bitData=n,t<0)throw new RangeError("Invalid argument");this.bitData=n.slice()}return o.makeBytes=function(e){for(var t=[],n=0,a=e;n<a.length;n++){var c=a[n];i(c,8,t)}return new o(o.Mode.BYTE,e.length,t)},o.makeNumeric=function(e){if(!o.isNumeric(e))throw new RangeError("String contains non-numeric characters");for(var t=[],n=0;n<e.length;){var a=Math.min(e.length-n,3);i(parseInt(e.substring(n,n+a),10),a*3+1,t),n+=a}return new o(o.Mode.NUMERIC,e.length,t)},o.makeAlphanumeric=function(e){if(!o.isAlphanumeric(e))throw new RangeError("String contains unencodable characters in alphanumeric mode");var t=[],n;for(n=0;n+2<=e.length;n+=2){var a=o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(n))*45;a+=o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(n+1)),i(a,11,t)}return n<e.length&&i(o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(n)),6,t),new o(o.Mode.ALPHANUMERIC,e.length,t)},o.makeSegments=function(e){return e==""?[]:o.isNumeric(e)?[o.makeNumeric(e)]:o.isAlphanumeric(e)?[o.makeAlphanumeric(e)]:[o.makeBytes(o.toUtf8ByteArray(e))]},o.makeEci=function(e){var t=[];if(e<0)throw new RangeError("ECI assignment value out of range");if(e<128)i(e,8,t);else if(e<16384)i(2,2,t),i(e,14,t);else if(e<1e6)i(6,3,t),i(e,21,t);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,t)},o.isNumeric=function(e){return o.NUMERIC_REGEX.test(e)},o.isAlphanumeric=function(e){return o.ALPHANUMERIC_REGEX.test(e)},o.prototype.getData=function(){return this.bitData.slice()},o.getTotalBits=function(e,t){for(var n=0,a=0,c=e;a<c.length;a++){var r=c[a],v=r.mode.numCharCountBits(t);if(r.numChars>=1<<v)return 1/0;n+=4+v+r.bitData.length}return n},o.toUtf8ByteArray=function(e){e=encodeURI(e);for(var t=[],n=0;n<e.length;n++)e.charAt(n)!="%"?t.push(e.charCodeAt(n)):(t.push(parseInt(e.substring(n+1,n+3),16)),n+=2);return t},o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",o}();s.QrSegment=h})(X||(X={}));(function(s){(function(d){var i=function(){function u(f,h){this.ordinal=f,this.formatBits=h}return u.LOW=new u(0,1),u.MEDIUM=new u(1,0),u.QUARTILE=new u(2,3),u.HIGH=new u(3,2),u}();d.Ecc=i})(s.QrCode||(s.QrCode={}))})(X||(X={}));(function(s){(function(d){var i=function(){function u(f,h){this.modeBits=f,this.numBitsCharCount=h}return u.prototype.numCharCountBits=function(f){return this.numBitsCharCount[Math.floor((f+7)/17)]},u.NUMERIC=new u(1,[10,12,14]),u.ALPHANUMERIC=new u(2,[9,11,13]),u.BYTE=new u(4,[8,16,16]),u.KANJI=new u(8,[8,10,12]),u.ECI=new u(7,[0,0,0]),u}();d.Mode=i})(s.QrSegment||(s.QrSegment={}))})(X||(X={}));var Z=X,_e="L",me={L:Z.QrCode.Ecc.LOW,M:Z.QrCode.Ecc.MEDIUM,Q:Z.QrCode.Ecc.QUARTILE,H:Z.QrCode.Ecc.HIGH},Bt=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function ge(s){return s in me}function Ie(s,d){d===void 0&&(d=0);var i=[];return s.forEach(function(u,f){var h=null;u.forEach(function(o,e){if(!o&&h!==null){i.push("M".concat(h+d," ").concat(f+d,"h").concat(e-h,"v1H").concat(h+d,"z")),h=null;return}if(e===u.length-1){if(!o)return;h===null?i.push("M".concat(e+d,",").concat(f+d," h1v1H").concat(e+d,"z")):i.push("M".concat(h+d,",").concat(f+d," h").concat(e+1-h,"v1H").concat(h+d,"z"));return}o&&h===null&&(h=e)})}),i.join("")}function Le(s,d,i,u){var f=u.width,h=u.height,o=u.x,e=u.y,t=s.length+i*2,n=Math.floor(d*.1),a=t/d,c=(f||n)*a,r=(h||n)*a,v=o==null?s.length/2-c/2:o*a,g=e==null?s.length/2-r/2:e*a,m=null;if(u.excavate){var y=Math.floor(v),A=Math.floor(g),N=Math.ceil(c+v-y),S=Math.ceil(r+g-A);m={x:y,y:A,w:N,h:S}}return{x:v,y:g,h:r,w:c,excavation:m}}function Te(s,d){return s.slice().map(function(i,u){return u<d.y||u>=d.y+d.h?i:i.map(function(f,h){return h<d.x||h>=d.x+d.w?f:!1})})}var be={value:{type:String,required:!0,default:""},size:{type:Number,default:100},level:{type:String,default:_e,validator:function(s){return ge(s)}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},margin:{type:Number,required:!1,default:0},imageSettings:{type:Object,required:!1,default:function(){return{}}},gradient:{type:Boolean,required:!1,default:!1},gradientType:{type:String,required:!1,default:"linear",validator:function(s){return["linear","radial"].indexOf(s)>-1}},gradientStartColor:{type:String,required:!1,default:"#000"},gradientEndColor:{type:String,required:!1,default:"#fff"}},Dt=q(q({},be),{renderAs:{type:String,required:!1,default:"canvas",validator:function(s){return["canvas","svg"].indexOf(s)>-1}}}),Ot=T({name:"QRCodeSvg",props:be,setup:function(s){var d=R(0),i=R(""),u,f=function(){var o=s.value,e=s.level,t=s.margin,n=t>>>0,a=ge(e)?e:_e,c=Z.QrCode.encodeText(o,me[a]).getModules();if(d.value=c.length+n*2,s.imageSettings.src){var r=Le(c,s.size,n,s.imageSettings);u={x:r.x+n,y:r.y+n,width:r.w,height:r.h},r.excavation&&(c=Te(c,r.excavation))}i.value=Ie(c,n)},h=function(){if(!s.gradient)return null;var o=s.gradientType==="linear"?{x1:"0%",y1:"0%",x2:"100%",y2:"100%"}:{cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"};return Q(s.gradientType==="linear"?"linearGradient":"radialGradient",q({id:"qr-gradient"},o),[Q("stop",{offset:"0%",style:{stopColor:s.gradientStartColor}}),Q("stop",{offset:"100%",style:{stopColor:s.gradientEndColor}})])};return f(),Se(f),function(){return Q("svg",{width:s.size,height:s.size,"shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(d.value," ").concat(d.value)},[Q("defs",{},[h()]),Q("rect",{width:"100%",height:"100%",fill:s.background}),Q("path",{fill:s.gradient?"url(#qr-gradient)":s.foreground,d:i.value}),s.imageSettings.src&&Q("image",q({href:s.imageSettings.src},u))])}}}),Ut=T({name:"QRCodeCanvas",props:be,setup:function(s,d){var i=R(null),u=R(null),f=function(){var o=s.value,e=s.level,t=s.size,n=s.margin,a=s.background,c=s.foreground,r=s.gradient,v=s.gradientType,g=s.gradientStartColor,m=s.gradientEndColor,y=n>>>0,A=ge(e)?e:_e,N=i.value;if(N){var S=N.getContext("2d");if(S){var x=Z.QrCode.encodeText(o,me[A]).getModules(),E=x.length+y*2,I=u.value,k={x:0,y:0,width:0,height:0},O=s.imageSettings.src&&I!=null&&I.naturalWidth!==0&&I.naturalHeight!==0;if(O){var B=Le(x,s.size,y,s.imageSettings);k={x:B.x+y,y:B.y+y,width:B.w,height:B.h},B.excavation&&(x=Te(x,B.excavation))}var K=window.devicePixelRatio||1,U=t/E*K;if(N.height=N.width=t*K,S.scale(U,U),S.fillStyle=a,S.fillRect(0,0,E,E),r){var H=void 0;v==="linear"?H=S.createLinearGradient(0,0,E,E):H=S.createRadialGradient(E/2,E/2,0,E/2,E/2,E/2),H.addColorStop(0,g),H.addColorStop(1,m),S.fillStyle=H}else S.fillStyle=c;Bt?S.fill(new Path2D(Ie(x,y))):x.forEach(function(p,M){p.forEach(function(z,J){z&&S.fillRect(J+y,M+y,1,1)})}),O&&S.drawImage(I,k.x,k.y,k.width,k.height)}}};Me(f),Se(f);var h=d.attrs.style;return function(){return Q(Y,[Q("canvas",q(q({},d.attrs),{ref:i,style:q(q({},h),{width:"".concat(s.size,"px"),height:"".concat(s.size,"px")})})),s.imageSettings.src&&Q("img",{ref:u,src:s.imageSettings.src,style:{display:"none"},onLoad:f})])}}}),Qt=T({name:"Qrcode",render:function(){var s=this.$props,d=s.renderAs,i=s.value,u=s.size,f=s.margin,h=s.level,o=s.background,e=s.foreground,t=s.imageSettings,n=s.gradient,a=s.gradientType,c=s.gradientStartColor,r=s.gradientEndColor;return Q(d==="svg"?Ot:Ut,{value:i,size:u,margin:f,level:h,background:o,foreground:e,imageSettings:t,gradient:n,gradientType:a,gradientStartColor:c,gradientEndColor:r})},props:Dt});const Ht={class:"flex flex-col items-center justify-center"},Vt={class:"text-sm text-[#4F5052]"},Gt={class:"mt-2 text-2xl font-bold text-[#3664EF]"},qt={class:"text-base mr-1"},Yt={class:"mt-3 w-[200px] h-[200px] rounded-lg flex items-center justify-center"},Kt={class:"mt-3 text-lg text-[#000]"},Wt=["innerHTML"],jt={class:"mt-8 flex flex-col items-center justify-center gap-4"},Jt={class:"text-2xl text-[#000]"},Xt=T({__name:"payment-qrcode",emits:["success"],setup(s,{expose:d,emit:i}){const u=i,f=ve(),h=ie("active_subscription_info"),o=ie("active_time_info"),e=ie("active_payment"),t=R(!1),n=R(!1),a=R(""),c=R(!1),r=R({});Ae(()=>{N()});function v(){return{user_id:f.info.user_id,nickname:f.info.nickname,subscription_id:h.value.group_id,subscription_name:h.value.group_name,pay_type:e.value,amount:Math.round(Number(o.value.amount||0).toFixed(2)*1e4)/100,currency:o.value.currency,duration:1,time_unit:o.value.time_unit}}async function g(){a.value="",t.value=!0,r.value=await de.createOrder({params:v()}),await fe(),A(),a.value=r.value.code_url,n.value=!1}function m(){t.value=!1,N()}let y=null;function A(){S(),N(),y=setInterval(()=>{S()},5e3)}function N(){y&&(clearInterval(y),y=null)}function S(){return de.getOrderStatus({order_id:r.value.payment_order_id}).then(E=>{E.originalStatus==="SUCCESS"&&(Xe({key:Ze(JSON.stringify(v())),value:{}}),N(),c.value=!0)})}function x(){c.value=!1,m(),u("success")}return d({open:g,close:m}),(E,I)=>{const k=he,O=Pe,B=pe,K=Ne;return $(),P("div",null,[C(O,{"header-class":"!px-5 !py-3","footer-class":"!hidden","append-to-body":"","destroy-on-close":"",width:"640px",title:E.$t("subscription.order_title"),"close-on-click-modal":!1,modelValue:t.value,"onUpdate:modelValue":I[0]||(I[0]=U=>t.value=U),onClosed:m},{default:F(()=>[ee(($(),P("div",Ht,[l("h4",Vt,_(E.$t("subscription.pay_amount")),1),l("div",Gt,[l("span",qt,_(w(o).currency_symbol||"ï¿¥"),1),l("span",null,_(Number(w(o).amount||0).toFixed(2)),1)]),l("div",Yt,[a.value?($(),re(Qt,{key:0,ref:"qrcode_ref",value:a.value,size:180,level:"H"},null,8,["value"])):D("",!0)]),l("div",Kt,_(E.$t("subscription.pay_by_wechat")),1),l("div",{class:"mt-2 text-xs text-[#666666]",innerHTML:E.$t("subscription.pay_policy",{policy:"<a style='color: #2F74FF;' href='#' target='_blank'>ãéç§æ¿ç­åè®®ã</a>"})},null,8,Wt)])),[[K,n.value]]),C(k,{class:"relative mt-8 mb-6 left-1/2 -translate-x-1/2 !px-8 !bg-[#F6F7F8] !text-[#333]",type:"info",plain:"",size:"large",onClick:m},{default:F(()=>[oe(_(E.$t("action.cancel")),1)]),_:1})]),_:1},8,["title","modelValue"]),C(O,{center:"","append-to-body":"","destroy-on-close":"",width:"400px","close-on-click-modal":!1,modelValue:c.value,"onUpdate:modelValue":I[1]||(I[1]=U=>c.value=U),onClosed:x},{footer:F(()=>[C(k,{class:"mt-8 mb-6 !px-8",type:"primary",size:"large",onClick:x},{default:F(()=>[oe(_(E.$t("action.ok_v2")),1)]),_:1})]),default:F(()=>[l("div",jt,[C(B,{size:"58",color:"#3ABA52"},{default:F(()=>[C(w(Je))]),_:1}),l("span",Jt,_(E.$t("subscription.pay_success")),1)])]),_:1},8,["modelValue"])])}}}),Zt={async getAvailableList(){const{data:s={}}=await et.get("/api/payment/available").catch(tt);return s}},en={class:"flex-none text-xl font-semibold text-[#000]"},tn={class:"flex-1 h-0 max-h-max relative"},nn=["onClick"],on={class:"w-full flex items-center gap-3"},an=["src"],rn=["title"],sn={key:0,class:"flex-1"},ln={key:1},cn={class:"flex items-center gap-1"},un={class:"text-lg font-bold text-[#000]"},dn={class:"text-xs text-[#333]"},fn={class:"text-xs text-[#9A9A9A]"},vn={class:"flex items-center gap-1"},hn={class:"text-lg font-bold text-[#000]"},pn={class:"text-xs text-[#333]"},_n={class:"text-xs text-[#9A9A9A]"},mn={class:"text-sm font-semibold text-[#1D1E1F]"},gn={class:"flex flex-wrap gap-3.5 mt-4"},bn=["title"],wn=["src","alt"],yn={class:"flex-1 text-sm text-[#4F5052] truncate"},En={class:"text-sm font-semibold text-[#1D1E1F]"},xn={class:"mt-4 flex flex-wrap items-center gap-2"},Cn=["src"],$n=["src"],Sn=["src"],Mn={class:"flex-none text-xl font-semibold text-[#000]"},An={class:"flex-none w-full flex items-center gap-5 overflow-x-auto overflow-y-hidden"},Pn=["onClick"],Nn={class:"text-sm text-[#000]"},Rn={class:"mt-2 flex items-baseline"},Fn={class:"text-lg font-bold text-[#000]"},zn={class:"text-2xl font-bold text-[#000] mx-1"},kn={class:"text-sm text-[#333]"},In={class:"mt-10 text-2xl font-semibold text-[#000]"},Ln={class:"mt-2 text-sm text-[#333]"},Tn={class:"w-full flex items-center gap-2 mt-3"},Bn=["src"],Dn={class:"flex-1 text-sm font-medium text-[#333]"},On={class:"w-full flex-1 min-h-[108px]"},Un={class:"w-full flex items-center justify-between text-lg text-[#000]"},Qn={class:"text-lg text-[#000]"},Hn={class:"text-[#333]"},Vn={class:"text-[#000] text-xl mt-8 flex items-center justify-between gap-2"},Gn=T({__name:"index",setup(s,{expose:d}){const i=ve(),u=R(),f=R(),h=R(!1),o=R(!1),e=R([]),t=R(""),n=R("month"),a=R(0),c=R(0),r=R(0),v=R(ue),g=R([]),m=j(()=>e.value.find(p=>p.group_id==t.value)||{}),y=j(()=>m.value[`${n.value}_info`]||{}),A=j(()=>!Number(y.value.amount||0));le("active_subscription_info",m),le("active_time_info",y),le("active_payment",v);async function N(){h.value=!0,await x(),t.value=(e.value[0]||{}).group_id,await fe();const p=u.value.$el;p.getBoundingClientRect().width;const z=p.querySelector(".el-scrollbar__view").children;if(z.length>3){const J=z[0].getBoundingClientRect().width;r.value=J+16,c.value=r.value*(z.length-3)}}function S(){h.value=!1}async function x(){if(e.value.length)return Promise.resolve(e.value);o.value=!0;const{list:p=[]}=await de.list().finally(()=>{o.value=!1});return e.value=p,H(),Promise.resolve(e.value)}async function E({data:p={}}={}){t.value=p.group_id||t.value,await fe(),n.value="month",!+(m.value.month_info||{}).amount&&+(m.value.year_info||{}).amount&&(n.value="year")}function I({unit:p="month"}){n.value=p}function k({type:p}){}function O(){for(let p=0;p<r.value;p+=6)setTimeout(()=>{a.value-=6,u.value.setScrollLeft(a.value)},1)}function B(){for(let p=0;p<r.value;p+=6)setTimeout(()=>{a.value+=6,u.value.setScrollLeft(a.value)},1)}async function K({data:p={}}={}){const M=await Zt.getAvailableList();g.value=M.filter((z={})=>z.pay_type==ue&&z.enabled&&z.configured)}async function U(){return await x(),!(!e.value.length||(await K(),!g.value.length))}async function H({refresh:p=!1}={}){p&&await i.getUserInfo();const M=e.value.find((z={})=>z.group_id==i.info.group_id);M&&(i.setGroupName(M.group_name||i.info.group_name),i.setGroupIcon(M.logo_url||i.info.group_icon))}return d({open:N,close:S,validateUpgrade:U}),(p,M)=>{const z=he,J=Tt,Be=vt,De=Ft,Oe=pe,Ue=ht,Qe=pt,He=Rt,Ve=Nt,Ge=Pe,qe=Ne;return $(),P("div",null,[C(Ge,{class:"max-w-[1200px] rounded-md !p-0 overflow-hidden","header-class":"hidden","footer-class":"hidden","show-close":!1,"append-to-body":"",center:"","destroy-on-close":"",width:"90%",modelValue:h.value,"onUpdate:modelValue":M[5]||(M[5]=b=>h.value=b)},{default:F(()=>[ee(($(),re(Ve,{class:"h-[74vh]"},{default:F(()=>[C(De,{class:"!flex flex-col gap-4 relative !overflow-hidden !py-8 !pl-12 !pr-2"},{default:F(()=>[l("h1",en,_(p.$t("subscription.version_title")),1),l("div",tn,[ee(C(z,{class:"absolute -left-4 top-1/2 -translate-y-1/2 z-10 bg-[#F5F2F2] text-[#333] !border-none !outline-none",icon:w(nt),size:"default",circle:"",onClick:V(O,["stop"])},null,8,["icon"]),[[ye,a.value>0]]),C(Be,{ref_key:"version_scrollbar_ref",ref:u,class:"relative version-scrollbar h-full","view-class":"relative  flex flex-nowrap gap-4 transition-all duration-300"},{default:F(()=>[($(!0),P(Y,null,ce(e.value,(b,we)=>($(),P("div",{key:we,class:L(["flex-none rounded-md px-3.5 pt-4 pb-10 box-border border cursor-pointer",[e.value.length>2?"w-[31%] max-w-[240px]":e.value.length>1?"w-[47%] max-w-[340px]":"w-full",b.group_id==t.value?"shadow-[0_0_20px_rgba(6, 114, 255, 0.2)] border-[#2F74FF] bg-cover bg-center":"border-[#EAEDF7] bg-[#F5F6FC]"]]),style:ae({backgroundImage:b.group_id==t.value?`url(${p.$getPublicPath("/images/subscription/version-bg.png")})`:"none"}),onClick:V(W=>E({data:b}),["stop"])},[l("header",on,[l("img",{src:/\.png$/.test(b.logo)?b.logo:p.$getPublicPath(`/images/subscription/${b.logo}.png`),class:"flex-none w-12 h-12 rounded-full overflow-auto"},null,8,an),l("h2",{class:L(["text-lg font-semibold text-[#000] truncate",e.value.length<=1?"flex-none":"flex-1"]),title:b.group_name},_(b.group_name),11,rn),e.value.length<=1?($(),P("div",sn)):D("",!0),e.value.length<=1?($(),P("div",ln,[l("div",cn,[l("span",un,_(b.month_info.currency_symbol)+" "+_(b.month_info.amount),1),l("span",dn," / "+_(p.$t(`subscription.${b.month_info.time_unit}`)),1)]),l("div",fn,_(p.$t("subscription.credit_month_amount",{amount:` ${b.credit_month_info.amount} `})),1)])):D("",!0)]),C(J,{class:"!my-4 !border-[#E7ECF7]"}),e.value.length>1?($(),P(Y,{key:0},[l("div",vn,[l("span",hn,_(b.month_info.currency_symbol)+" "+_(b.month_info.amount),1),l("span",pn," / "+_(p.$t(`subscription.${b.month_info.time_unit}`)),1)]),l("div",_n,_(p.$t("subscription.credit_month_amount",{amount:` ${b.credit_month_info.amount} `})),1)],64)):D("",!0),l("div",{class:L([e.value.length>1?"":"flex flex-row"])},[b.agents&&b.agents.length?($(),P("div",{key:0,class:L([e.value.length>1?"mt-6":" flex-1"])},[l("h2",mn,_(p.$t("subscription.agent_bots_title")),1),l("ul",gn,[($(!0),P(Y,null,ce(b.agents,(W,Ye)=>($(),P("li",{key:Ye,class:"flex items-center gap-2 w-full",title:W.name},[l("img",{src:W.logo||"",alt:W.name,class:"flex-none w-4 h-4 rounded-full overflow-hidden"},null,8,wn),l("div",yn,_(W.name),1)],8,bn))),128))])],2)):D("",!0),l("div",{class:L([e.value.length>1?"mt-5":"flex-1"])},[l("h2",En,_(p.$t("subscription.ai_assistant_title")),1),l("div",xn,[C(z,{class:"!p-1.5",type:"default",plain:"",size:"default",disabled:!b.ai_enabled,onClick:M[0]||(M[0]=V(W=>k({type:"windows"}),["stop"]))},{default:F(()=>[l("img",{src:p.$getPublicPath("/images/windows.png"),class:L(["w-4 h-4 object-cover mr-1",{"opacity-50":!b.ai_enabled}])},null,10,Cn),M[7]||(M[7]=l("span",{class:"text-xs"},"Windows",-1))]),_:2},1032,["disabled"]),C(z,{class:"!p-1.5 !ml-0",type:"default",plain:"",size:"default",disabled:!b.ai_enabled,onClick:M[1]||(M[1]=V(W=>k({type:"ios"}),["stop"]))},{default:F(()=>[l("img",{src:p.$getPublicPath("/images/ios.png"),class:L(["w-4 h-4 object-cover mr-1",{"opacity-50":!b.ai_enabled}])},null,10,$n),M[8]||(M[8]=l("span",{class:"text-xs"},"macOS",-1))]),_:2},1032,["disabled"]),C(z,{class:"!p-1.5 !ml-0",type:"default",plain:"",size:"default",disabled:!b.ai_enabled,onClick:M[2]||(M[2]=V(W=>k({type:"chrome"}),["stop"]))},{default:F(()=>[l("img",{src:p.$getPublicPath("/images/chrome.png"),class:L(["w-4 h-4 object-cover mr-1",{"opacity-50":!b.ai_enabled}])},null,10,Sn),M[9]||(M[9]=l("span",{class:"text-xs"},"Google",-1))]),_:2},1032,["disabled"])])],2)],2)],14,nn))),128))]),_:1},512),ee(C(z,{class:"absolute -right-0.5 top-1/2 -translate-y-1/2 z-10 bg-[#F5F2F2] text-[#333] !border-none !outline-none",icon:w(ot),size:"default",circle:"",onClick:V(B,["stop"])},null,8,["icon"]),[[ye,c.value>0&&a.value<c.value]])]),+(m.value.month_info||{}).amount||+(m.value.year_info||{}).amount?($(),P(Y,{key:0},[l("h1",Mn,_(p.$t("subscription.time_title")),1),l("ul",An,[($(),P(Y,null,ce(["month","year"],b=>($(),P(Y,{key:b},[+(m.value[`${b}_info`]||{}).amount?($(),P("li",{key:0,class:L(["h-[128px] w-[36%] max-w-[280px] p-5 box-border border rounded-md",[b==n.value?"shadow-[0_0_20px_rgba(6, 114, 255, 0.2)] border-[#2F74FF] bg-[url('https://img.js.design/assets/img/67e3c887985b9b806ee10e09.png#681a27dfb07db7652079a5900c960b9e')] bg-cover bg-center":"border-[#EAEDF7] bg-[#F5F6FC]"]]),onClick:V(we=>I({unit:b}),["stop"])},[l("div",Nn,_(p.$t(`subscription.time_unit_${b}`)),1),l("div",Rn,[l("span",Fn,_((m.value[`${b}_info`]||{}).currency_symbol||"ï¿¥"),1),l("span",zn,_((m.value[`${b}_info`]||{}).amount||0),1),l("span",kn," / "+_(p.$t(`subscription.${b}`)),1)])],10,Pn)):D("",!0)],64))),64))])],64)):D("",!0)]),_:1}),C(He,{class:"flex flex-col flex-none max-w-[306px] relative bg-[#FAFAFA] border-l border-[#F2F0F0] !py-8 !pl-6 !pr-12",width:"30%"},{default:F(()=>[C(Oe,{class:"cursor-pointer absolute top-6 right-5 text-[#666]",size:20},{default:F(()=>[C(w(at),{onClick:V(S,["stop"])})]),_:1}),l("h2",In,_(p.$t("subscription.aside_title")),1),l("p",Ln,_(p.$t("subscription.aside_desc")),1),l("div",Tn,[l("img",{class:"flex-none size-8 rounded-full overflow-hidden object-cover",src:w(i).info.avatar},null,8,Bn),l("div",Dn,_(w(i).info.nickname),1)]),C(J,{class:"!my-5 !border-[#E7ECF7]"}),l("div",On,[l("div",Un,[l("span",null,_(m.value.group_name||"- -"),1),l("span",null,_(y.value.currency_symbol||"ï¿¥")+_(y.value.amount||0),1)])]),+y.value.amount?($(),P(Y,{key:0},[C(J,{class:"!my-5 !border-[#E7ECF7]"}),l("h2",Qn,_(p.$t("subscription.payment")),1),C(Qe,{modelValue:v.value,"onUpdate:modelValue":M[3]||(M[3]=b=>v.value=b),class:"mt-2",disabled:A.value},{default:F(()=>[C(Ue,{value:w(ue)},{default:F(()=>[l("span",Hn,_(p.$t("subscription.payment_wechat")),1)]),_:1},8,["value"])]),_:1},8,["modelValue","disabled"]),l("div",Vn,[l("span",null,_(p.$t("subscription.total")),1),l("span",null,_(y.value.currency_symbol||"ï¿¥")+" "+_(Number(y.value.amount||0).toFixed(2)),1)]),C(z,{class:"w-full mt-4",type:"primary",size:"large",disabled:A.value,onClick:M[4]||(M[4]=V(b=>f.value.open(),["stop"]))},{default:F(()=>[oe(_(p.$t("action.pay")),1)]),_:1},8,["disabled"])],64)):D("",!0)]),_:1})]),_:1})),[[qe,o.value]])]),_:1},8,["modelValue"]),C(Xt,{ref_key:"payment_qrcode_ref",ref:f,onSuccess:M[6]||(M[6]=b=>H({refresh:!0}))},null,512)])}}}),qn=rt(Gn,[["__scopeId","data-v-5f097c3e"]]),Yn={class:"flex-1 flex items-center gap-2 overflow-hidden"},Kn={class:"flex items-center gap-2"},Wn={class:"w-[300px] p-4 flex items-center gap-2"},jn={class:"flex-1 overflow-hidden"},Jn={class:"w-full flex items-center gap-1 overflow-hidden"},Xn={class:"flex-1 text-sm text-primary font-medium truncate"},Zn=["title"],eo=["src"],to={class:"max-w-[5em] truncate"},no=["src"],oo={class:"text-xs text-[#9A9A9A]"},ao={class:"flex flex-col gap-1.5 px-3 py-1.5 border-t"},ro={href:"/#/profile/",target:"_blank",class:"h-8 px-3 flex items-center gap-2 rounded cursor-pointer hover:bg-[#ECEDEE] text-primary"},so={class:"flex-center size-6"},io={class:"text-sm"},lo={class:"flex-center size-6"},co={class:"text-sm"},uo={class:"h-8 px-3 flex items-center gap-2 rounded cursor-pointer text-primary opacity-50"},fo={class:"flex-center size-6"},vo={class:"text-sm"},ho={class:"h-8 px-3 flex items-center gap-2 rounded cursor-pointer text-primary opacity-50"},po={class:"flex-center size-6"},_o={class:"text-sm"},mo={class:"flex flex-col gap-1.5 px-3 py-1.5 border-t"},go={class:"flex-center size-6"},bo={class:"text-sm"},wo={class:"flex items-center gap-1.5 cursor-pointer"},Mo=T({__name:"main-header",props:{needLogin:{type:Boolean,default:!0},mainClass:{default:""},siderButton:{type:Boolean,default:!0},type:{}},setup(s){const{locale:d}=st(),i=ve(),u=gt(),f=mt(),h=R(null),o=R(!1),e=()=>{it().open()},t=()=>{const r=window.location.host,v=r.includes("hub.53ai.com"),g=!r.includes("53ai.com");let m=window.admin_url||"";m||(m=v||g?"http://hubtest.53ai.com/console":"http://hub.53ai.com/console");const y=`${m}?access_token=${i.info.access_token}&eid=${i.info.eid}&from_origin=${encodeURIComponent(location.origin)}`;console.info("adminUrl: ",y),window.open(y,"_blank")},n=()=>{i.logout(),ft.success(window.$t("status.logout_success"))},a=async()=>{if(!i.info.access_token)return Promise.resolve();o.value=await h.value.validateUpgrade()},c=r=>{d.value=r,lt.setLang(r)};return f.loadFromStorage().then(r=>{c(r.language)}),Me(async()=>{await f.loadInfo().then(r=>{c(r.language)}),await a(),Ee.on(xe.LOGIN_SUCCESS,a),window.$chat53ai&&window.$chat53ai.$on("agenthub:service",(r,{type:v,data:g}={})=>{console.log(v,g),v==="login"&&e()})}),Ae(()=>{Ee.off(xe.LOGIN_SUCCESS,a)}),(r,v)=>{const g=ut("svg-icon"),m=_t,y=pe,A=ct,N=he,S=Ce("tooltip"),x=Ce("debounce");return!r.needLogin||w(i).is_login?($(),P("header",{key:0,class:L(["flex-none h-[70px] border-b",[r.type==="homepage"?"nav-bg":"bg-white"]])},[l("div",{class:L(["mx-auto px-4 flex items-center justify-between h-full",r.mainClass])},[l("div",Yn,[G(r.$slots,"before_prefix"),r.siderButton&&!w(u).siderVisible?ee(($(),P("div",{key:0,class:"flex-none size-7 rounded-md flex-center cursor-pointer hover:bg-[#ECEDEE]",onClick:v[0]||(v[0]=(...E)=>w(u).toggleSider&&w(u).toggleSider(...E))},[C(g,{name:"layout-left",size:"20",color:"#9A9A9A"})])),[[S,{content:r.$t("chat.expand_side_bar")}]]):D("",!0),G(r.$slots,"before_suffix")]),l("div",Kn,[G(r.$slots,"after_prefix"),r.$isElectron?D("",!0):($(),P(Y,{key:0},[w(i).is_login?($(),re(A,{key:0,effect:"light","popper-class":"el-popper--plain",placement:"bottom-end"},{content:F(()=>[l("div",Wn,[C(m,{class:"flex-none size-10 rounded-full",src:w(i).info.avatar},null,8,["src"]),l("div",jn,[l("div",Jn,[l("p",Xn,_(w(i).info.nickname),1),l("div",{class:"h-6 flex-center gap-1 bg-[#F7F7F7] rounded-full px-2 text-xs text-placeholder whitespace-nowrap",title:w(i).info.group_name},[l("img",{src:/\.png$/.test(w(i).info.group_icon)?w(i).info.group_icon:r.$getPublicPath(`/images/subscription/${w(i).info.group_icon}.png`),class:"w-4 h-4 object-cover"},null,8,eo),l("p",to,_(w(i).info.group_name),1)],8,Zn),o.value?($(),P("div",{key:0,class:"flex items-center gap-1 ml-auto cursor-pointer hover:opacity-70 bg-[#F4F0FF] rounded-2xl h-6 px-2 box-border text-xs text-[#8E5EFF] whitespace-nowrap",onClick:v[1]||(v[1]=V((...E)=>h.value.open&&h.value.open(...E),["stop"]))},[l("img",{src:r.$getPublicPath("/images/subscription/upgrade.png"),class:"w-4 h-4 object-cover"},null,8,no),oe(" "+_(r.$t("subscription.upgrade")),1)])):D("",!0)]),l("div",oo,_(w(i).info.email),1)])]),l("div",ao,[l("a",ro,[l("div",so,[C(g,{name:"setting",size:"16"})]),l("span",io,_(r.$t("action.setting")),1)]),w(i).info.role>1?($(),P("div",{key:0,class:"h-8 px-3 flex items-center gap-2 rounded cursor-pointer hover:bg-[#ECEDEE] text-primary",onClick:t},[l("div",lo,[C(g,{name:"jump",size:"16"})]),l("span",co,_(r.$t("common.go_admin")),1)])):D("",!0),l("div",uo,[l("div",fo,[C(g,{name:"send_plane",size:"16"})]),l("span",vo,_(r.$t("common.new_friend")),1)]),l("div",ho,[l("div",po,[C(g,{name:"help",size:"16"})]),l("span",_o,_(r.$t("common.help_feedback")),1)])]),l("div",mo,[ee(($(),P("div",{class:"h-8 px-3 flex items-center gap-2 rounded cursor-pointer hover:bg-[#ECEDEE] text-primary",onClick:n},[l("div",go,[C(g,{name:"quit",size:"14"})]),l("span",bo,_(r.$t("login.quit")),1)])),[[x]])])]),default:F(()=>[l("div",wo,[C(m,{class:"size-[26px] rounded-full",src:w(i).info.avatar},null,8,["src"]),C(y,{color:"#A4A4AD"},{default:F(()=>[C(w(dt))]),_:1})])]),_:1})):($(),re(N,{key:1,type:"primary",onClick:e},{default:F(()=>[oe(_(r.$t("action.login")),1)]),_:1}))],64)),G(r.$slots,"after_suffix")])],2),C(qn,{ref_key:"upgrade_ref",ref:h},null,512)],2)):D("",!0)}}});export{Mo as _};
