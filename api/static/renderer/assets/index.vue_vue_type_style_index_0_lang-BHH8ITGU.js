import{B as V,al as $,r as B,E as L,G as C,o as E,c as m,b as t,h as u,e as p,d as n,w as f,f as r,H as F,t as H,u as c,p as i,F as I,K as N,L as S,M as z}from"./main-rMrzitnj.js";import{E as A,a as R}from"./el-tab-pane-CWT3dWDV.js";import{_ as T}from"./el-empty-B6pXs88B.js";import{_ as U}from"./header.vue_vue_type_script_setup_true_lang-DPdmbbEj.js";import{_ as M}from"./m-footer.vue_vue_type_script_setup_true_lang--GH4gBVN.js";import{_ as j}from"./list.vue_vue_type_script_setup_true_lang-TwFWUo-P.js";import{u as D}from"./navigation-B33KJ0Ar.js";const G={class:"text-base text-primary font-bold line-clamp-1 max-md:flex-1 max-md:text-center"},K={key:0,class:"flex md:flex-row flex-col-reverse gap-5 items-stretch md:items-center justify-between"},P={class:"w-full md:w-auto"},Z=V({__name:"index",props:{hideHeader:{type:Boolean,default:!1},hideFilter:{type:Boolean,default:!1},singleRow:{type:Boolean,default:!1},hideFooter:{type:Boolean,default:!1},showLimit:{},excludeIds:{default:()=>[]}},setup(g){const d=g,s=$(),_=D(),w=B(!1),a=L({keyword:"",group_id:0}),h=C(()=>{let e=a.group_id===0?s.agentList:s.agentList.filter(o=>o.group_id===a.group_id);return d.excludeIds.length&&(e=e.filter(o=>!d.excludeIds.includes(o.agent_id))),d.showLimit&&(e=e.slice(0,d.showLimit)),e}),y=e=>{a.group_id=e};return E(()=>{s.loadCategorys(),s.loadAgentList()}),(e,o)=>{const v=F("svg-icon"),k=R,x=A,b=z;return t(),m("div",{class:i(["flex flex-col",[e.hideHeader?"":"h-full overflow-hidden"]])},[e.hideHeader?p("",!0):(t(),u(U,{key:0,sticky:""},{before_suffix:f(()=>[n("div",G,H(c(_).agentNavigation.name||e.$t("module.agent")),1)]),after_prefix:f(()=>[n("span",{class:"flex items-center gap-1 text-sm cursor-pointer md:hidden",onClick:o[0]||(o[0]=l=>e.$router.back())},[r(v,{name:"return",size:"18",stroke:""})])]),_:1})),n("div",{class:i([e.hideHeader?"":"flex-1 overflow-y-auto"])},[n("div",{class:i([e.singleRow?"w-full pb-6":"w-11/12 lg:w-4/5 mx-auto py-6 md:py-8 lg:py-10"])},[e.hideFilter?p("",!0):(t(),m("div",K,[r(x,{class:"flex-1 index-tabs overflow-hidden",modelValue:a.group_id,"onUpdate:modelValue":o[1]||(o[1]=l=>a.group_id=l),onTabChange:y},{default:f(()=>[(t(!0),m(I,null,N(c(s).categorys,l=>(t(),u(k,{key:l.group_id,label:l.group_name,name:l.group_id},null,8,["label","name"]))),128))]),_:1},8,["modelValue"]),n("div",P,[r(T,{class:"hidden md:flex",modelValue:a.keyword,"onUpdate:modelValue":o[2]||(o[2]=l=>a.keyword=l),placeholder:e.$t("action.search")+e.$t("module.prompt")},null,8,["modelValue","placeholder"]),r(b,{modelValue:a.keyword,"onUpdate:modelValue":o[3]||(o[3]=l=>a.keyword=l),size:"large",class:"w-full md:hidden el-input--main",placeholder:e.$t("action.search")+e.$t("module.agent"),"prefix-icon":c(S)},null,8,["modelValue","placeholder","prefix-icon"])])])),r(j,{loading:w.value,keyword:a.keyword,list:h.value,class:i(["grid grid-cols-1 gap-4",[e.singleRow?"":"sm:grid-cols-2 lg:grid-cols-3 mt-6 md:mt-10 md:gap-5"]])},null,8,["loading","keyword","list","class"])],2)],2),e.hideFooter?p("",!0):(t(),u(M,{key:1}))],2)}}});export{Z as _};
