import{B as b,al as V,r as B,E as L,G as $,o as E,c as m,b as t,h as u,e as p,d as r,w as f,t as C,u as c,p as i,f as n,F,J as I,K as N,L as S}from"./main-1fdi3DXO.js";import{E as H,a as A}from"./el-tab-pane-BmXHlTrJ.js";import{_ as R}from"./el-empty-CqKhTSXi.js";import{_ as T}from"./header.vue_vue_type_script_setup_true_lang-Nnwy1ewT.js";import{_ as U}from"./m-footer.vue_vue_type_script_setup_true_lang-BHV0koGA.js";import{_ as z}from"./list.vue_vue_type_script_setup_true_lang-DxPhahyf.js";import{u as j}from"./navigation-CFxMcT3J.js";const D={class:"text-base text-primary font-bold line-clamp-1 max-md:flex-1 max-md:text-center"},G={key:0,class:"flex md:flex-row flex-col-reverse gap-5 items-stretch md:items-center justify-between"},J={class:"w-full md:w-auto"},X=b({__name:"index",props:{hideHeader:{type:Boolean,default:!1},hideFilter:{type:Boolean,default:!1},singleRow:{type:Boolean,default:!1},hideFooter:{type:Boolean,default:!1},showLimit:{},excludeIds:{default:()=>[]}},setup(g){const d=g,s=V(),_=j(),w=B(!1),a=L({keyword:"",group_id:0}),y=$(()=>{let e=a.group_id===0?s.agentList:s.agentList.filter(o=>o.group_id===a.group_id);return d.excludeIds.length&&(e=e.filter(o=>!d.excludeIds.includes(o.agent_id))),d.showLimit&&(e=e.slice(0,d.showLimit)),e}),h=e=>{a.group_id=e};return E(()=>{s.loadCategorys(),s.loadAgentList()}),(e,o)=>{const k=A,v=H,x=S;return t(),m("div",{class:i(["flex flex-col",[e.hideHeader?"":"h-full overflow-hidden"]])},[e.hideHeader?p("",!0):(t(),u(T,{key:0,sticky:""},{before_suffix:f(()=>[r("div",D,C(c(_).agentNavigation.name||e.$t("module.agent")),1)]),after_prefix:f(()=>o[3]||(o[3]=[])),_:1})),r("div",{class:i([e.hideHeader?"":"flex-1 overflow-y-auto"])},[r("div",{class:i([e.singleRow?"w-full pb-6":"w-11/12 lg:w-4/5 mx-auto py-6 md:py-8 lg:py-10"])},[e.hideFilter?p("",!0):(t(),m("div",G,[n(v,{class:"flex-1 index-tabs overflow-hidden",modelValue:a.group_id,"onUpdate:modelValue":o[0]||(o[0]=l=>a.group_id=l),onTabChange:h},{default:f(()=>[(t(!0),m(F,null,I(c(s).categorys,l=>(t(),u(k,{key:l.group_id,label:l.group_name,name:l.group_id},null,8,["label","name"]))),128))]),_:1},8,["modelValue"]),r("div",J,[n(R,{class:"hidden md:flex",modelValue:a.keyword,"onUpdate:modelValue":o[1]||(o[1]=l=>a.keyword=l),placeholder:e.$t("action.search")+e.$t("module.prompt")},null,8,["modelValue","placeholder"]),n(x,{modelValue:a.keyword,"onUpdate:modelValue":o[2]||(o[2]=l=>a.keyword=l),size:"large",class:"w-full md:hidden el-input--main",placeholder:e.$t("action.search")+e.$t("module.agent"),"prefix-icon":c(N)},null,8,["modelValue","placeholder","prefix-icon"])])])),n(z,{loading:w.value,keyword:a.keyword,list:y.value,class:i(["grid grid-cols-1 gap-4",[e.singleRow?"":"sm:grid-cols-2 lg:grid-cols-3 mt-6 md:mt-10 md:gap-5"]])},null,8,["loading","keyword","list","class"])],2)],2),e.hideFooter?p("",!0):(t(),u(U,{key:1}))],2)}}});export{X as _};
