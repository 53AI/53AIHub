import{r as y,n as g,B as Z,E as ae,G as F,o as ie,c as r,e as E,b as s,F as p,k as b,H as de,d as l,t as d,p as A,f as i,L as ce,aA as O,s as G,J as h,a1 as ue,w as x,W as J,h as C,a0 as W,u as X,a$ as pe,m as I,a5 as me,Y as _e,A as fe}from"./main-DwgTeXrs.js";import{_ as Y,E as xe}from"./el-empty-B6H0kcno.js";import{E as ve}from"./el-image-viewer-DgpLIPup.js";import{E as he,a as ge}from"./el-tab-pane-JqsvRjlj.js";import{u as be}from"./links-C7K0c5Ou.js";import{_ as ye}from"./header.vue_vue_type_script_setup_true_lang-BfGMPP7h.js";import{_ as we}from"./m-footer.vue_vue_type_script_setup_true_lang-C9Va5Gy2.js";import"./index-C2Nv52fa.js";import"./el-tooltip-l0sNRNKZ.js";/* empty css                  */import"./enterprise-3MMk6DZL.js";import"./global-C49lzBeL.js";import"./navigation-BfshhEbX.js";function ke(){const a=y(null);return{scrollRef:a,scrollToBottom:async()=>{await g(),a.value&&(a.value.scrollTop=a.value.scrollHeight)},scrollToTop:async()=>{await g(),a.value&&(a.value.scrollTop=0)},scrollTo:async(f,n=0)=>{await g();const v=document.querySelector(f);a.value&&v&&(a.value.scrollTop=v.offsetTop+n),await g()},scrollToVal:async f=>{await g(),a.value&&(a.value.scrollTop=f)},scrollToBottomIfAtBottom:async()=>{await g(),a.value&&a.value.scrollHeight-a.value.scrollTop-a.value.clientHeight<=100&&(a.value.scrollTop=a.value.scrollHeight)}}}const Te={class:"w-4/6 mx-auto py-8 text-center"},$e={class:"text-[40px] font-bold text-black"},Ee={class:"flex items-center justify-between mt-4"},Ce={class:"flex-1 flex items-center gap-3"},Ve=["onClick"],Be=["src"],Fe={class:"flex items-center gap-2 overflow-hidden transition-all duration-300 flex-grow"},Ae={class:"text-sm truncate"},Ie={class:"flex-center gap-5"},Se={class:"text-[#182B50] text-opacity-40 text-sm"},Le={class:"mt-7 flex flex-wrap gap-3 justify-center"},Me={class:"flex items-center justify-between w-5/6 mx-auto"},ze={class:"w-5/6 mx-auto mt-4"},Ue=["id"],He={name:"list",tag:"div",class:"grid grid-cols-4 gap-5 mb-4 max-lg:grid-cols-3 max-md:grid-cols-2 max-sm:grid-cols-1"},Ne=["onClick"],qe={class:"flex-1 overflow-hidden"},je=["title"],Re=["title"],Pe={key:1,class:"flex-1 flex flex-col overflow-y-auto py-6 md:py-8 lg:py-10"},De={class:"w-11/12 lg:w-4/5 mx-auto"},Ke={key:0,class:"text-sm md:text-base mt-3 line-clamp-2 text-regular"},Oe={class:"text-xl md:text-2xl font-bold",style:{color:"var(--el-text-color-primary, #1d1e1f)"}},Ge={class:"text-sm md:text-base mt-3 line-clamp-2 text-regular"},Je={key:1,class:"flex md:flex-row flex-col-reverse gap-5 items-stretch md:items-center justify-between"},We={key:0,class:"col-span-full flex flex-col items-center justify-center"},Xe=["onClick"],Ye={class:"flex-1 overflow-hidden"},Qe=["title","innerHTML"],Ze=["title"],Q=2,eo=Z({__name:"toolbox",props:{mode:{default:"default"}},setup(a,{expose:w}){const c=be(),{scrollRef:S,scrollTo:L,scrollToTop:M}=ke(),f=a,n=ae({group_id:0,keyword:""}),v=y(!1),V=y(!1),m=y(""),k=y([{name:"百度AI+",value:"baiduai+",checked:!0,url:"https://chat.baidu.com/search?word=_word_"},{name:"纳米搜索",value:"n",checked:!0,url:"https://www.n.cn/?q=_word_"},{name:"秘塔",value:"metaso",checked:!1,url:"https://metaso.cn/?q=_word_"},{name:"Perplexity",value:"perplexity",checked:!1,url:"https://perplexity.ai/search?q=_word_"}]),ee=["👨‍💼 上班族预防病自救教程","🍽️ 日报/周报让你头疼？点击领取模板","🤔 遇到地震是该跑还是该躲？","💰 有哪些可以不靠年终奖就能赚钱的门路？","⚡ 针对时间管理的10大实用技巧","🎨 自己做自媒体应该如何快速起步？"],oe=F(()=>m.value.trim().length>0&&k.value.some(o=>o.checked)),T=F(()=>(f.mode==="index"?c.categorys.filter(t=>t.group_id==0):c.categorys).filter(t=>{if(t.group_id===0&&f.mode!=="index")return!0;let _=c.links.filter($=>$.group_id===$.group_id)||[];return f.mode==="index"&&(_=_.slice(0,8)),!(!_||_.length===0)})),z=F(()=>c.links.filter(o=>n.group_id===0?!0:o.group_id===n.group_id)),te=o=>{const t=k.value.filter(_=>_.checked);if(!o.checked&&t.length>=Q){me.warning(window.$t("toolbox.max_agent_count",{count:Q}));return}o.checked=!o.checked},U=async()=>{const o=k.value.filter(t=>t.checked);window.$isElectron?window.$chat53ai.$win({type:"new-tab",data:JSON.stringify({title:window.$t("toolbox.name")+"-"+m.value,urls:o.map(t=>t.url.replace("_word_",encodeURIComponent(m.value)))})}):o.forEach(t=>{window.open(t.url.replace("_word_",encodeURIComponent(m.value)))}),m.value=""},H=o=>{const t=o.props.name;t===0?M():L(`#toolbox_cate_${t}`)},B=()=>{const o=n.keyword.trim().toLowerCase();c.links.forEach(t=>{t.visible=o===""||t.name.toLowerCase().includes(o)})},N=o=>{window.open(o.url,"_blank")};return ie(()=>{v.value=!0,c.loadCategorys(),c.loadLinks().finally(()=>{v.value=!1})}),w({search:o=>{n.keyword=o,B()}}),(o,t)=>{var K;const _=ce,$=_e,le=J("svg-icon"),q=ue,j=ge,R=he,P=ve,se=xe,ne=J("router-link"),D=de;return o.mode!=="index"||!n.keyword||T.value.filter(e=>e.visible).length?(s(),r(p,{key:0},[o.$isElectron&&o.mode!=="index"?b((s(),r("div",{key:0,class:"flex-1 flex flex-col relative overflow-y-auto",ref_key:"scrollRef",ref:S},[l("div",Te,[l("h2",$e,d(o.$t("toolbox.title")),1),l("div",{class:A(["bg-white rounded-lg p-4 mt-9 border",[V.value?"border-[#0672FF]":""]])},[i(_,{type:"textarea",modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=e=>m.value=e),placeholder:o.$t("toolbox.input_placeholder"),rows:5,resize:"none",style:{"--el-input-text-color":"#182b50","--el-input-bg-color":"transparent","--el-border-color":"none","--el-input-focus-border":"none","--el-input-hover-border":"none","--el-input-hover-border-color":"none","--el-input-focus-border-color":"none"},onFocus:t[1]||(t[1]=e=>V.value=!0),onBlur:t[2]||(t[2]=e=>V.value=!1),onKeyup:[O(G(U,["exact"]),["enter"]),O(G(()=>{},["shift","exact"]),["enter"])]},null,8,["modelValue","placeholder","onKeyup"]),l("div",Ee,[l("div",Ce,[(s(!0),r(p,null,h(k.value,e=>(s(),r("div",{key:e.value,class:A(["h-9 px-2.5 flex-center gap-2 rounded-full border cursor-pointer min-w-[28px]",[e.checked?"bg-[#EBF3FC] text-black border-[#0672FF]":"text-[#AAA] bg-[#EBF4F7] border-[#EBF4F7]"]]),onClick:u=>te(e)},[l("img",{class:"size-[22px] rounded-full",src:`https://chat.53ai.com/images/toolbox/${e.value}.png`},null,8,Be),l("div",Fe,[l("span",Ae,d(e.name),1),e.checked?(s(),C($,{key:0,color:"#0672FF"},{default:x(()=>[i(X(pe))]),_:1})):E("",!0)])],10,Ve))),128))]),l("div",Ie,[l("div",Se,d(m.value.length)+"/300",1),i(q,{class:"w-8 h-8",type:"primary",disabled:!oe.value,onClick:U},{default:x(()=>[i(le,{name:"send",size:"14"})]),_:1},8,["disabled"])])])],2),l("div",Le,[(s(),r(p,null,h(ee,(e,u)=>i(q,{key:u,class:"!border-[#D3EAF2] !text-gray-600 !ml-0",onClick:re=>m.value=e},{default:x(()=>[W(d(e),1)]),_:2},1032,["onClick"])),64))])]),t[7]||(t[7]=l("div",{class:"mt-10 mb-20"},null,-1)),l("div",Me,[i(R,{modelValue:n.group_id,"onUpdate:modelValue":t[3]||(t[3]=e=>n.group_id=e),class:"index-tabs flex-1 overflow-hidden",style:{"--el-tabs-header-height":"36px"},onTabClick:H},{default:x(()=>[(s(!0),r(p,null,h(T.value,e=>(s(),C(j,{key:e.group_name,label:e.group_name,name:e.group_id},null,8,["label","name"]))),128))]),_:1},8,["modelValue"]),l("div",null,[i(_,{modelValue:n.keyword,"onUpdate:modelValue":t[4]||(t[4]=e=>n.keyword=e),style:{"--el-input-inner-height":"36px",width:"268px"},"prefix-icon":Y,placeholder:o.$t("toolbox.search_placeholder"),onInput:B},null,8,["modelValue","placeholder"])])]),l("div",ze,[(s(!0),r(p,null,h((K=T.value)==null?void 0:K.filter(e=>e.group_id!=0),e=>(s(),r(p,{key:e.group_id},[b(l("div",{id:`toolbox_cate_${e.group_id}`,class:"text-secondary text-sm py-4"},d(e.group_name),9,Ue),[[I,e.visible]]),l("div",He,[(s(!0),r(p,null,h(X(c).appMap[e.group_id],u=>b((s(),r("div",{key:u.key,onClick:re=>N(u),class:"h-[80px] bg-white rounded px-5 flex items-center gap-2 cursor-pointer border border-[#ECECEC] hover:shadow"},[i(P,{class:"size-[40px] rounded-full",fit:"contain",lazy:"",src:u.logo},null,8,["src"]),l("div",qe,[l("div",{class:"text-sm text-primary font-semibold truncate",title:u.name},d(u.name),9,je),l("div",{class:"mt-1 text-xs truncate text-regular",title:u.description},d(u.description),9,Re)])],8,Ne)),[[I,u.visible]])),128))])],64))),128))])])),[[D,v.value]]):b((s(),r("div",Pe,[l("div",De,[o.mode==="index"?(s(),r(p,{key:0},[n.keyword?(s(),r("p",Ke,d(o.$t("module.toolbox")),1)):(s(),r(p,{key:1},[l("h2",Oe,d(o.$t("index.toolbox_recommend")),1),l("p",Ge,d(o.$t("index.toolbox_recommend_desc")),1)],64))],64)):(s(),r("div",Je,[i(R,{modelValue:n.group_id,"onUpdate:modelValue":t[5]||(t[5]=e=>n.group_id=e),class:"index-tabs flex-1 overflow-hidden",style:{"--el-tabs-header-height":"36px"},onTabClick:H},{default:x(()=>[(s(!0),r(p,null,h(T.value,e=>(s(),C(j,{key:e.group_name,label:e.group_name,name:e.group_id},null,8,["label","name"]))),128))]),_:1},8,["modelValue"]),l("div",null,[i(Y,{modelValue:n.keyword,"onUpdate:modelValue":t[6]||(t[6]=e=>n.keyword=e),placeholder:o.$t("action.search")+o.$t("module.prompt"),onInput:B},null,8,["modelValue","placeholder"])])])),l("div",null,[l("div",{name:"list",tag:"div",class:A(["grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-5 mt-6 md:mt-10",[o.mode==="index"?"mt-7":""]])},[z.value.filter(e=>e.visible).length?E("",!0):(s(),r("div",We,[i(se,{description:o.$t("common.no_data"),image:o.$getPublicPath("/images/chat/completion_empty.png")},null,8,["description","image"])])),(s(!0),r(p,null,h(z.value,e=>b((s(),r("div",{key:e.id,onClick:u=>N(e),class:"min-h-[80px] bg-white rounded px-5 py-4 flex items-center gap-2 cursor-pointer border border-[#ECECEC] hover:shadow"},[i(P,{class:"size-[50px] rounded-full",fit:"contain",lazy:"",src:e.logo},null,8,["src"]),l("div",Ye,[l("div",{class:"text-base font-medium text-primary mb-1 mt-1 line-clamp-1",title:e.name,innerHTML:e.name.replace(n.keyword,`<span class='text-theme'>${n.keyword}</span>`)},null,8,Qe),l("div",{class:"text-sm text-regular text-opacity-60 line-clamp-2",title:e.description},d(e.description),9,Ze)])],8,Xe)),[[I,e.visible]])),128))],2),o.mode==="index"&&!n.keyword?(s(),C(ne,{key:0,class:"block w-[240px] h-[40px] leading-[40px] border border-primary box-border text-center text-theme mt-[54px] rounded-[24px] mx-auto hover-bg-primary-light-9 transition-all duration-300",to:{path:"/index/toolbox"}},{default:x(()=>[W(d(o.$t("action.view_more")),1)]),_:1})):E("",!0)])])])),[[D,v.value]])],64)):E("",!0)}}}),oo=fe(eo,[["__scopeId","data-v-b893c406"]]),to={class:"h-full bg-white flex flex-col"},lo={class:"text-base text-primary font-bold line-clamp-1 max-md:flex-1 max-md:text-center"},ho=Z({__name:"index",setup(a){return(w,c)=>(s(),r("div",to,[i(ye,{sticky:""},{before_suffix:x(()=>[l("div",lo,d(w.$t("module.toolbox")),1)]),after_prefix:x(()=>c[0]||(c[0]=[])),_:1}),i(oo),i(we)]))}});export{ho as default};
