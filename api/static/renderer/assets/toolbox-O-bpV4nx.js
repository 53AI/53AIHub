import{r as T,Y as b,B as ee,M as oe,P as O,o as le,h as w,b as a,c as r,d as l,t as u,n as D,f as i,W as te,Z as P,$ as G,K as p,L as h,a0 as se,j as x,E as ae,R as k,V as X,i as B,e as ne,a1 as re,F as ie,v as V,X as J,a2 as ce,a3 as de,U as ue}from"./main-aAIm056l.js";import{v as pe}from"./el-loading-CP_lVFA8.js";import{E as _e}from"./el-image-viewer-D-9gw56f.js";import{E as fe,a as ve}from"./el-tab-pane-BztERYO7.js";import{u as me}from"./links-oc5EYse6.js";function he(){const n=T(null);return{scrollRef:n,scrollToBottom:async()=>{await b(),n.value&&(n.value.scrollTop=n.value.scrollHeight)},scrollToTop:async()=>{await b(),n.value&&(n.value.scrollTop=0)},scrollTo:async(f,g=0)=>{await b();const c=document.querySelector(f);n.value&&c&&(n.value.scrollTop=c.offsetTop+g),await b()},scrollToVal:async f=>{await b(),n.value&&(n.value.scrollTop=f)},scrollToBottomIfAtBottom:async()=>{await b(),n.value&&n.value.scrollHeight-n.value.scrollTop-n.value.clientHeight<=100&&(n.value.scrollTop=n.value.scrollHeight)}}}const xe={class:"w-4/6 mx-auto py-8 text-center"},ge={class:"text-[40px] font-bold text-black"},be={class:"flex items-center justify-between mt-4"},we={class:"flex-1 flex items-center gap-3"},ye=["onClick"],ke=["src"],Te={class:"flex items-center gap-2 overflow-hidden transition-all duration-300 flex-grow"},Ce={class:"text-sm truncate"},Ee={class:"flex-center gap-5"},Ve={class:"text-[#182B50] text-opacity-40 text-sm"},$e={class:"mt-7 flex flex-wrap gap-3 justify-center"},Be={class:"flex items-center justify-between w-5/6 mx-auto"},Fe={class:"w-5/6 mx-auto mt-4"},Me=["id"],Ie=["onClick"],Se={class:"flex-1 overflow-hidden"},Ae=["title"],Ue=["title"],ze={key:1,class:"flex-1 flex flex-col overflow-hidden"},Ne={class:"flex-none flex items-center justify-between lg:w-4/5 pt-6 pb-4 md:pt-8 lg:pt-10 w-5/6 mx-auto box-border"},Le={class:"lg:w-4/5 pb-6 md:pb-8 lg:pb-10 w-5/6 mx-auto"},Re=["id"],je=["onClick"],qe={class:"flex-1 overflow-hidden"},He=["title"],Ke=["title"],W=2,Oe=ee({__name:"toolbox",setup(n){const _=me(),{scrollRef:$,scrollTo:F,scrollToTop:M}=he(),d=oe({group_id:0,keyword:""}),f=T(!1),g=T(!1),c=T(""),C=T([{name:"百度AI+",value:"baiduai+",checked:!0,url:"https://chat.baidu.com/search?word=_word_"},{name:"纳米搜索",value:"n",checked:!0,url:"https://www.n.cn/?q=_word_"},{name:"秘塔",value:"metaso",checked:!1,url:"https://metaso.cn/?q=_word_"},{name:"Perplexity",value:"perplexity",checked:!1,url:"https://perplexity.ai/search?q=_word_"}]),Y=["👨‍💼 上班族预防病自救教程","🍽️ 日报/周报让你头疼？点击领取模板","🤔 遇到地震是该跑还是该躲？","💰 有哪些可以不靠年终奖就能赚钱的门路？","⚡ 针对时间管理的10大实用技巧","🎨 自己做自媒体应该如何快速起步？"],Z=O(()=>c.value.trim().length>0&&C.value.some(t=>t.checked)),y=O(()=>_.categorys.filter(t=>{if(t.group_id===0)return!0;const o=_.appMap[t.group_id];return!(!o||o.length===0)})),Q=t=>{const o=C.value.filter(v=>v.checked);if(!t.checked&&o.length>=W){ce.warning(window.$t("toolbox.max_agent_count",{count:W}));return}t.checked=!t.checked},I=async()=>{const t=C.value.filter(o=>o.checked);window.$isElectron?window.$chat53ai.$win({type:"new-tab",data:JSON.stringify({title:window.$t("toolbox.name")+"-"+c.value,urls:t.map(o=>o.url.replace("_word_",encodeURIComponent(c.value)))})}):t.forEach(o=>{window.open(o.url.replace("_word_",encodeURIComponent(c.value)))}),c.value=""},S=t=>{const o=t.props.name;o===0?M():F(`#toolbox_cate_${o}`)},A=()=>{const t=d.keyword.trim().toLowerCase();Object.keys(_.appMap).forEach(o=>{const v=_.appMap[o];v.forEach(m=>{m.visible=t===""||m.name.toLowerCase().includes(t)});const E=y.value.find(m=>m.group_id===Number(o));E&&(E.visible=v.some(m=>m.visible))})},U=t=>{window.open(t.url,"_blank")};return le(()=>{f.value=!0,_.loadCategorys(),_.loadLinks().finally(()=>{f.value=!1})}),(t,o)=>{var q,H;const v=te,E=de,m=ae("svg-icon"),z=se,N=ve,L=fe,R=_e,j=pe;return t.$isElectron?w((a(),r("div",{key:0,class:"flex-1 flex flex-col relative overflow-y-auto",ref_key:"scrollRef",ref:$},[l("div",xe,[l("h2",ge,u(t.$t("toolbox.title")),1),l("div",{class:D(["bg-white rounded-lg p-4 mt-9 border",[g.value?"border-[#0672FF]":""]])},[i(v,{type:"textarea",modelValue:c.value,"onUpdate:modelValue":o[0]||(o[0]=e=>c.value=e),placeholder:t.$t("toolbox.input_placeholder"),rows:5,resize:"none",style:{"--el-input-text-color":"#182b50","--el-input-bg-color":"transparent","--el-border-color":"none","--el-input-focus-border":"none","--el-input-hover-border":"none","--el-input-hover-border-color":"none","--el-input-focus-border-color":"none"},onFocus:o[1]||(o[1]=e=>g.value=!0),onBlur:o[2]||(o[2]=e=>g.value=!1),onKeyup:[P(G(I,["exact"]),["enter"]),P(G(()=>{},["shift","exact"]),["enter"])]},null,8,["modelValue","placeholder","onKeyup"]),l("div",be,[l("div",we,[(a(!0),r(p,null,h(C.value,e=>(a(),r("div",{key:e.value,class:D(["h-9 px-2.5 flex-center gap-2 rounded-full border cursor-pointer min-w-[28px]",[e.checked?"bg-[#EBF3FC] text-black border-[#0672FF]":"text-[#AAA] bg-[#EBF4F7] border-[#EBF4F7]"]]),onClick:s=>Q(e)},[l("img",{class:"size-[22px] rounded-full",src:`https://chat.53ai.com/images/toolbox/${e.value}.png`},null,8,ke),l("div",Te,[l("span",Ce,u(e.name),1),e.checked?(a(),B(E,{key:0,color:"#0672FF"},{default:x(()=>[i(k(re))]),_:1})):ne("",!0)])],10,ye))),128))]),l("div",Ee,[l("div",Ve,u(c.value.length)+"/300",1),i(z,{class:"w-8 h-8",type:"primary",disabled:!Z.value,onClick:I},{default:x(()=>[i(m,{name:"send",size:"14"})]),_:1},8,["disabled"])])])],2),l("div",$e,[(a(),r(p,null,h(Y,(e,s)=>i(z,{key:s,class:"!border-[#D3EAF2] !text-gray-600 !ml-0",onClick:K=>c.value=e},{default:x(()=>[ie(u(e),1)]),_:2},1032,["onClick"])),64))])]),o[7]||(o[7]=l("div",{class:"mt-10 mb-20"},null,-1)),l("div",Be,[i(L,{modelValue:d.group_id,"onUpdate:modelValue":o[3]||(o[3]=e=>d.group_id=e),class:"index-tabs flex-1 overflow-hidden",style:{"--el-tabs-header-height":"36px"},onTabClick:S},{default:x(()=>[(a(!0),r(p,null,h(y.value,e=>(a(),B(N,{key:e.group_name,label:e.group_name,name:e.group_id},null,8,["label","name"]))),128))]),_:1},8,["modelValue"]),l("div",null,[i(v,{modelValue:d.keyword,"onUpdate:modelValue":o[4]||(o[4]=e=>d.keyword=e),style:{"--el-input-inner-height":"36px",width:"268px"},"prefix-icon":k(X),placeholder:t.$t("toolbox.search_placeholder"),onInput:A},null,8,["modelValue","prefix-icon","placeholder"])])]),l("div",Fe,[(a(!0),r(p,null,h((q=y.value)==null?void 0:q.filter(e=>e.group_id!=0),e=>(a(),r(p,{key:e.group_id},[w(l("div",{id:`toolbox_cate_${e.group_id}`,class:"text-secondary text-sm py-4"},u(e.group_name),9,Me),[[V,e.visible]]),i(J,{name:"list",tag:"div",class:"grid grid-cols-4 gap-5 mb-4 max-lg:grid-cols-3 max-md:grid-cols-2 max-sm:grid-cols-1"},{default:x(()=>[(a(!0),r(p,null,h(k(_).appMap[e.group_id],s=>w((a(),r("div",{key:s.key,onClick:K=>U(s),class:"h-[80px] bg-white rounded px-5 flex items-center gap-2 cursor-pointer border border-[#ECECEC] hover:shadow"},[i(R,{class:"size-[40px] rounded-full",fit:"contain",lazy:"",src:s.logo},null,8,["src"]),l("div",Se,[l("div",{class:"text-sm text-primary font-semibold truncate",title:s.name},u(s.name),9,Ae),l("div",{class:"mt-1 text-xs truncate text-regular",title:s.description},u(s.description),9,Ue)])],8,Ie)),[[V,s.visible]])),128))]),_:2},1024)],64))),128))])])),[[j,f.value]]):w((a(),r("div",ze,[l("div",Ne,[i(L,{modelValue:d.group_id,"onUpdate:modelValue":o[5]||(o[5]=e=>d.group_id=e),class:"index-tabs flex-1 overflow-hidden",style:{"--el-tabs-header-height":"36px"},onTabClick:S},{default:x(()=>[(a(!0),r(p,null,h(y.value,e=>(a(),B(N,{key:e.group_name,label:e.group_name,name:e.group_id},null,8,["label","name"]))),128))]),_:1},8,["modelValue"]),l("div",null,[i(v,{modelValue:d.keyword,"onUpdate:modelValue":o[6]||(o[6]=e=>d.keyword=e),style:{"--el-input-inner-height":"36px",width:"268px"},"prefix-icon":k(X),placeholder:t.$t("toolbox.search_placeholder"),onInput:A},null,8,["modelValue","prefix-icon","placeholder"])])]),l("div",{class:"flex-1 overflow-y-auto relative",ref_key:"scrollRef",ref:$},[l("div",Le,[(a(!0),r(p,null,h((H=y.value)==null?void 0:H.filter(e=>e.group_id!=0),e=>(a(),r(p,{key:e.group_id},[w(l("div",{id:`toolbox_cate_${e.group_id}`,class:"text-secondary text-sm py-4"},u(e.group_name),9,Re),[[V,e.visible]]),i(J,{name:"list",tag:"div",class:"grid grid-cols-4 gap-5 mb-4 max-lg:grid-cols-3 max-md:grid-cols-2 max-sm:grid-cols-1"},{default:x(()=>[(a(!0),r(p,null,h(k(_).appMap[e.group_id],s=>w((a(),r("div",{key:s.key,onClick:K=>U(s),class:"h-[80px] bg-white rounded px-5 flex items-center gap-2 cursor-pointer border border-[#ECECEC] hover:shadow"},[i(R,{class:"size-[40px] rounded-full",fit:"contain",lazy:"",src:s.logo},null,8,["src"]),l("div",qe,[l("div",{class:"text-sm text-primary font-semibold truncate",title:s.name},u(s.name),9,He),l("div",{class:"mt-1 text-xs truncate text-regular",title:s.description},u(s.description),9,Ke)])],8,je)),[[V,s.visible]])),128))]),_:2},1024)],64))),128))])],512)])),[[j,f.value]])}}}),We=ue(Oe,[["__scopeId","data-v-005af824"]]);export{We as T};
