import{O as a,S as l}from"./main-DwgTeXrs.js";function b(o,c){return new Promise((r,t)=>{navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(o).then(()=>{a.success(l.global.t("hubx.bubble.copied")),r(o)}).catch(e=>{console.error("使用Clipboard API复制失败:",e),n(o,c,r,t)}):n(o,c,r,t)})}function n(o,c,r,t){try{const e=document.createElement("textarea");e.setAttribute("readonly","readonly"),e.value=o,e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.select();const s=document.execCommand("copy");document.body.removeChild(e),s?(a.success(l.global.t("hubx.bubble.copied")),r&&r(o)):t&&t(new Error("复制失败"))}catch(e){console.error("复制到剪贴板失败:",e),t&&t(e)}}export{b as d};
