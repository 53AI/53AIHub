import{I as Se,bq as zo,br as Vo,d as x,K as Ko,bs as Uo,c as O,r as T,V as Le,W as uo,bt as Ho,ba as po,i as m,s as G,w as v,n as p,Y as Ke,k as g,q as J,bu as fo,bv as mo,m as i,bw as Ee,C as ie,B as M,j as $,$ as U,t as D,l as R,E as ve,ax as Ue,y as we,bx as Go,a1 as te,a4 as vo,P as he,a2 as j,e as Te,O as Re,aX as ee,aS as H,by as qo,bz as Ce,L as fe,bA as xo,bB as oe,g as K,bC as Yo,bD as Jo,bE as jo,aY as je,bF as Wo,aZ as Xo,bf as Fe,b2 as He,bG as Qo,x as go,aB as Zo,aE as Be,aw as et,bH as ho,U as _o,aG as de,H as ge,F as ne,bI as bo,bJ as We,bK as ot,a0 as De,a5 as yo,bL as Xe,D as $e,bM as tt,bN as nt,b as ce,bO as Pe,bb as Qe,bP as Ze,bQ as st,aQ as ze,Q as Ge,bR as lt,aF as at,b3 as ye,p as Q,bS as rt,ay as it,S as wo,bT as Co,bU as eo,aC as Eo,a3 as dt,aA as oo,f as $o,A as Ie,T as ct,_ as _e,h as me,bV as to,bW as ut,be as Io,a as pt,z as ft,bn as mt,a8 as vt,a9 as gt,bX as no,bY as ht,a6 as _t,a7 as bt}from"./main-A2Vq01lO.js";import{a as yt,E as wt,_ as Ct}from"./main-header.vue_vue_type_script_setup_true_lang-TJYSPhBk.js";import{m as Ne,u as ko,c as so}from"./conversation-YAZ7vKuX.js";import{E as Et}from"./global-7Zqkv-Uz.js";import{E as $t}from"./el-scrollbar-yaCXca-3.js";import{E as It}from"./el-empty-5yz1TKk6.js";import{i as kt,E as St}from"./el-avatar-Ai_lMcYP.js";import"./enterprise-E8x0ss4L.js";const Tt=Se({...zo,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),Ft=Vo,Bt=x({name:"ElDrawer",inheritAttrs:!1}),Lt=x({...Bt,props:Tt,emits:Ft,setup(e,{expose:t}){const c=e,l=Ko();Uo({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},O(()=>!!l.title));const f=T(),a=T(),u=Le("drawer"),{t:d}=uo(),{afterEnter:s,afterLeave:o,beforeLeave:w,visible:_,rendered:B,titleId:r,bodyId:h,zIndex:C,onModalClick:L,onOpenAutoFocus:V,onCloseAutoFocus:z,onFocusoutPrevented:A,onCloseRequested:y,handleClose:I}=Ho(c,f),k=O(()=>c.direction==="rtl"||c.direction==="ltr"),F=O(()=>po(c.size));return t({handleClose:I,afterEnter:s,afterLeave:o}),(E,S)=>(m(),G(g(Go),{to:E.appendTo,disabled:E.appendTo!=="body"?!1:!E.appendToBody},{default:v(()=>[p(Ke,{name:g(u).b("fade"),onAfterEnter:g(s),onAfterLeave:g(o),onBeforeLeave:g(w),persisted:""},{default:v(()=>[J(p(g(fo),{mask:E.modal,"overlay-class":E.modalClass,"z-index":g(C),onClick:g(L)},{default:v(()=>[p(g(mo),{loop:"",trapped:g(_),"focus-trap-el":f.value,"focus-start-el":a.value,onFocusAfterTrapped:g(V),onFocusAfterReleased:g(z),onFocusoutPrevented:g(A),onReleaseRequested:g(y)},{default:v(()=>[i("div",Ee({ref_key:"drawerRef",ref:f,"aria-modal":"true","aria-label":E.title||void 0,"aria-labelledby":E.title?void 0:g(r),"aria-describedby":g(h)},E.$attrs,{class:[g(u).b(),E.direction,g(_)&&"open"],style:g(k)?"width: "+g(F):"height: "+g(F),role:"dialog",onClick:ie(()=>{},["stop"])}),[i("span",{ref_key:"focusStartRef",ref:a,class:M(g(u).e("sr-focus")),tabindex:"-1"},null,2),E.withHeader?(m(),$("header",{key:0,class:M([g(u).e("header"),E.headerClass])},[E.$slots.title?U(E.$slots,"title",{key:1},()=>[R(" DEPRECATED SLOT ")]):U(E.$slots,"header",{key:0,close:g(I),titleId:g(r),titleClass:g(u).e("title")},()=>[E.$slots.title?R("v-if",!0):(m(),$("span",{key:0,id:g(r),role:"heading","aria-level":E.headerAriaLevel,class:M(g(u).e("title"))},D(E.title),11,["id","aria-level"]))]),E.showClose?(m(),$("button",{key:2,"aria-label":g(d)("el.drawer.close"),class:M(g(u).e("close-btn")),type:"button",onClick:g(I)},[p(g(ve),{class:M(g(u).e("close"))},{default:v(()=>[p(g(Ue))]),_:1},8,["class"])],10,["aria-label","onClick"])):R("v-if",!0)],2)):R("v-if",!0),g(B)?(m(),$("div",{key:1,id:g(h),class:M([g(u).e("body"),E.bodyClass])},[U(E.$slots,"default")],10,["id"])):R("v-if",!0),E.$slots.footer?(m(),$("div",{key:2,class:M([g(u).e("footer"),E.footerClass])},[U(E.$slots,"footer")],2)):R("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[we,g(_)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var Rt=te(Lt,[["__file","drawer.vue"]]);const Mt=vo(Rt),Ot=x({inheritAttrs:!1});function At(e,t,c,l,f,a){return U(e.$slots,"default")}var Nt=te(Ot,[["render",At],["__file","collection.vue"]]);const Dt=x({name:"ElCollectionItem",inheritAttrs:!1});function Pt(e,t,c,l,f,a){return U(e.$slots,"default")}var zt=te(Dt,[["render",Pt],["__file","collection-item.vue"]]);const So="data-el-collection-item",To=e=>{const t=`El${e}Collection`,c=`${t}Item`,l=Symbol(t),f=Symbol(c),a={...Nt,name:t,setup(){const d=T(),s=new Map;he(l,{itemMap:s,getItems:()=>{const w=g(d);if(!w)return[];const _=Array.from(w.querySelectorAll(`[${So}]`));return[...s.values()].sort((r,h)=>_.indexOf(r.ref)-_.indexOf(h.ref))},collectionRef:d})}},u={...zt,name:c,setup(d,{attrs:s}){const o=T(),w=j(l,void 0);he(f,{collectionItemRef:o}),Te(()=>{const _=g(o);_&&w.itemMap.set(_,{ref:_,...s})}),Re(()=>{const _=g(o);w.itemMap.delete(_)})}};return{COLLECTION_INJECTION_KEY:l,COLLECTION_ITEM_INJECTION_KEY:f,ElCollection:a,ElCollectionItem:u}},Vt=Se({style:{type:ee([String,Array,Object])},currentTabId:{type:ee(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:ee(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:Kt,ElCollectionItem:Ut,COLLECTION_INJECTION_KEY:qe,COLLECTION_ITEM_INJECTION_KEY:Ht}=To("RovingFocusGroup"),xe=Symbol("elRovingFocusGroup"),Fo=Symbol("elRovingFocusGroupItem"),Gt={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},qt=(e,t)=>{if(t!=="rtl")return e;switch(e){case H.right:return H.left;case H.left:return H.right;default:return e}},xt=(e,t,c)=>{const l=qt(e.code,c);if(!(t==="vertical"&&[H.left,H.right].includes(l))&&!(t==="horizontal"&&[H.up,H.down].includes(l)))return Gt[l]},Yt=(e,t)=>e.map((c,l)=>e[(l+t)%e.length]),Ye=e=>{const{activeElement:t}=document;for(const c of e)if(c===t||(c.focus(),t!==document.activeElement))return},lo="currentTabIdChange",ao="rovingFocusGroup.entryFocus",Jt={bubbles:!1,cancelable:!0},jt=x({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:Vt,emits:[lo,"entryFocus"],setup(e,{emit:t}){var c;const l=T((c=e.currentTabId||e.defaultCurrentTabId)!=null?c:null),f=T(!1),a=T(!1),u=T(),{getItems:d}=j(qe,void 0),s=O(()=>[{outline:"none"},e.style]),o=C=>{t(lo,C)},w=()=>{f.value=!0},_=oe(C=>{var L;(L=e.onMousedown)==null||L.call(e,C)},()=>{a.value=!0}),B=oe(C=>{var L;(L=e.onFocus)==null||L.call(e,C)},C=>{const L=!g(a),{target:V,currentTarget:z}=C;if(V===z&&L&&!g(f)){const A=new Event(ao,Jt);if(z==null||z.dispatchEvent(A),!A.defaultPrevented){const y=d().filter(S=>S.focusable),I=y.find(S=>S.active),k=y.find(S=>S.id===g(l)),E=[I,k,...y].filter(Boolean).map(S=>S.ref);Ye(E)}}a.value=!1}),r=oe(C=>{var L;(L=e.onBlur)==null||L.call(e,C)},()=>{f.value=!1}),h=(...C)=>{t("entryFocus",...C)};he(xe,{currentTabbedId:qo(l),loop:Ce(e,"loop"),tabIndex:O(()=>g(f)?-1:0),rovingFocusGroupRef:u,rovingFocusGroupRootStyle:s,orientation:Ce(e,"orientation"),dir:Ce(e,"dir"),onItemFocus:o,onItemShiftTab:w,onBlur:r,onFocus:B,onMousedown:_}),fe(()=>e.currentTabId,C=>{l.value=C??null}),xo(u,ao,h)}});function Wt(e,t,c,l,f,a){return U(e.$slots,"default")}var Xt=te(jt,[["render",Wt],["__file","roving-focus-group-impl.vue"]]);const Qt=x({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:Kt,ElRovingFocusGroupImpl:Xt}});function Zt(e,t,c,l,f,a){const u=K("el-roving-focus-group-impl"),d=K("el-focus-group-collection");return m(),G(d,null,{default:v(()=>[p(u,Yo(Jo(e.$attrs)),{default:v(()=>[U(e.$slots,"default")]),_:3},16)]),_:3})}var en=te(Qt,[["render",Zt],["__file","roving-focus-group.vue"]]);const on=Se({trigger:jo.trigger,triggerKeys:{type:ee(Array),default:()=>[H.enter,H.numpadEnter,H.space,H.down]},effect:{...je.effect,default:"light"},type:{type:ee(String)},placement:{type:ee(String),default:"bottom"},popperOptions:{type:ee(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:ee([Number,String]),default:0},maxHeight:{type:ee([Number,String]),default:""},popperClass:{type:String,default:""},disabled:Boolean,role:{type:String,values:Wo,default:"menu"},buttonProps:{type:ee(Object)},teleported:je.teleported,persistent:{type:Boolean,default:!0}}),Bo=Se({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:Xo}}),tn=Se({onKeydown:{type:ee(Function)}}),nn=[H.down,H.pageDown,H.home],Lo=[H.up,H.pageUp,H.end],sn=[...nn,...Lo],{ElCollection:ln,ElCollectionItem:an,COLLECTION_INJECTION_KEY:rn,COLLECTION_ITEM_INJECTION_KEY:dn}=To("Dropdown"),Me=Symbol("elDropdown"),{ButtonGroup:cn}=Fe,un=x({name:"ElDropdown",components:{ElButton:Fe,ElButtonGroup:cn,ElScrollbar:$t,ElDropdownCollection:ln,ElTooltip:He,ElRovingFocusGroup:en,ElOnlyChild:Qo,ElIcon:ve,ArrowDown:go},props:on,emits:["visible-change","click","command"],setup(e,{emit:t}){const c=_o(),l=Le("dropdown"),{t:f}=uo(),a=T(),u=T(),d=T(),s=T(),o=T(null),w=T(null),_=T(!1),B=O(()=>({maxHeight:po(e.maxHeight)})),r=O(()=>[l.m(y.value)]),h=O(()=>Zo(e.trigger)),C=Be().value,L=O(()=>e.id||C);fe([a,h],([n,b],[N])=>{var W,X,ue;(W=N==null?void 0:N.$el)!=null&&W.removeEventListener&&N.$el.removeEventListener("pointerenter",k),(X=n==null?void 0:n.$el)!=null&&X.removeEventListener&&n.$el.removeEventListener("pointerenter",k),(ue=n==null?void 0:n.$el)!=null&&ue.addEventListener&&b.includes("hover")&&n.$el.addEventListener("pointerenter",k)},{immediate:!0}),Re(()=>{var n,b;(b=(n=a.value)==null?void 0:n.$el)!=null&&b.removeEventListener&&a.value.$el.removeEventListener("pointerenter",k)});function V(){z()}function z(){var n;(n=d.value)==null||n.onClose()}function A(){var n;(n=d.value)==null||n.onOpen()}const y=et();function I(...n){t("command",...n)}function k(){var n,b;(b=(n=a.value)==null?void 0:n.$el)==null||b.focus()}function F(){}function E(){const n=g(s);h.value.includes("hover")&&(n==null||n.focus()),w.value=null}function S(n){w.value=n}function Y(n){_.value||(n.preventDefault(),n.stopImmediatePropagation())}function P(){t("visible-change",!0)}function q(n){var b;(n==null?void 0:n.type)==="keydown"&&((b=s.value)==null||b.focus())}function se(){t("visible-change",!1)}return he(Me,{contentRef:s,role:O(()=>e.role),triggerId:L,isUsingKeyboard:_,onItemEnter:F,onItemLeave:E}),he("elDropdown",{instance:c,dropdownSize:y,handleClick:V,commandHandler:I,trigger:Ce(e,"trigger"),hideOnClick:Ce(e,"hideOnClick")}),{t:f,ns:l,scrollbar:o,wrapStyle:B,dropdownTriggerKls:r,dropdownSize:y,triggerId:L,currentTabId:w,handleCurrentTabIdChange:S,handlerMainButtonClick:n=>{t("click",n)},handleEntryFocus:Y,handleClose:z,handleOpen:A,handleBeforeShowTooltip:P,handleShowTooltip:q,handleBeforeHideTooltip:se,onFocusAfterTrapped:n=>{var b,N;n.preventDefault(),(N=(b=s.value)==null?void 0:b.focus)==null||N.call(b,{preventScroll:!0})},popperRef:d,contentRef:s,triggeringElementRef:a,referenceElementRef:u}}});function pn(e,t,c,l,f,a){var u;const d=K("el-dropdown-collection"),s=K("el-roving-focus-group"),o=K("el-scrollbar"),w=K("el-only-child"),_=K("el-tooltip"),B=K("el-button"),r=K("arrow-down"),h=K("el-icon"),C=K("el-button-group");return m(),$("div",{class:M([e.ns.b(),e.ns.is("disabled",e.disabled)])},[p(_,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(u=e.referenceElementRef)==null?void 0:u.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:e.persistent,onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},ho({content:v(()=>[p(o,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:v(()=>[p(s,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:v(()=>[p(d,null,{default:v(()=>[U(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:v(()=>[p(w,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:v(()=>[U(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","persistent","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(m(),G(C,{key:0},{default:v(()=>[p(B,Ee({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:v(()=>[U(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),p(B,Ee({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:v(()=>[p(h,{class:M(e.ns.e("icon"))},{default:v(()=>[p(r)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):R("v-if",!0)],2)}var fn=te(un,[["render",pn],["__file","dropdown.vue"]]);const mn=x({components:{ElRovingFocusCollectionItem:Ut},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:t}){const{currentTabbedId:c,loop:l,onItemFocus:f,onItemShiftTab:a}=j(xe,void 0),{getItems:u}=j(qe,void 0),d=Be(),s=T(),o=oe(r=>{t("mousedown",r)},r=>{e.focusable?f(g(d)):r.preventDefault()}),w=oe(r=>{t("focus",r)},()=>{f(g(d))}),_=oe(r=>{t("keydown",r)},r=>{const{code:h,shiftKey:C,target:L,currentTarget:V}=r;if(h===H.tab&&C){a();return}if(L!==V)return;const z=xt(r);if(z){r.preventDefault();let y=u().filter(I=>I.focusable).map(I=>I.ref);switch(z){case"last":{y.reverse();break}case"prev":case"next":{z==="prev"&&y.reverse();const I=y.indexOf(V);y=l.value?Yt(y,I+1):y.slice(I+1);break}}de(()=>{Ye(y)})}}),B=O(()=>c.value===g(d));return he(Fo,{rovingFocusGroupItemRef:s,tabIndex:O(()=>g(B)?0:-1),handleMousedown:o,handleFocus:w,handleKeydown:_}),{id:d,handleKeydown:_,handleFocus:w,handleMousedown:o}}});function vn(e,t,c,l,f,a){const u=K("el-roving-focus-collection-item");return m(),G(u,{id:e.id,focusable:e.focusable,active:e.active},{default:v(()=>[U(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var gn=te(mn,[["render",vn],["__file","roving-focus-item.vue"]]);const hn=x({name:"DropdownItemImpl",components:{ElIcon:ve},props:Bo,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:t}){const c=Le("dropdown"),{role:l}=j(Me,void 0),{collectionItemRef:f}=j(dn,void 0),{collectionItemRef:a}=j(Ht,void 0),{rovingFocusGroupItemRef:u,tabIndex:d,handleFocus:s,handleKeydown:o,handleMousedown:w}=j(Fo,void 0),_=bo(f,a,u),B=O(()=>l.value==="menu"?"menuitem":l.value==="navigation"?"link":"button"),r=oe(h=>{if([H.enter,H.numpadEnter,H.space].includes(h.code))return h.preventDefault(),h.stopImmediatePropagation(),t("clickimpl",h),!0},o);return{ns:c,itemRef:_,dataset:{[So]:""},role:B,tabIndex:d,handleFocus:s,handleKeydown:r,handleMousedown:w}}});function _n(e,t,c,l,f,a){const u=K("el-icon");return m(),$(ne,null,[e.divided?(m(),$("li",{key:0,role:"separator",class:M(e.ns.bem("menu","item","divided"))},null,2)):R("v-if",!0),i("li",Ee({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:d=>e.$emit("clickimpl",d),onFocus:e.handleFocus,onKeydown:ie(e.handleKeydown,["self"]),onMousedown:e.handleMousedown,onPointermove:d=>e.$emit("pointermove",d),onPointerleave:d=>e.$emit("pointerleave",d)}),[e.icon?(m(),G(u,{key:0},{default:v(()=>[(m(),G(ge(e.icon)))]),_:1})):R("v-if",!0),U(e.$slots,"default")],16,["aria-disabled","tabindex","role","onClick","onFocus","onKeydown","onMousedown","onPointermove","onPointerleave"])],64)}var bn=te(hn,[["render",_n],["__file","dropdown-item-impl.vue"]]);const Ro=()=>{const e=j("elDropdown",{}),t=O(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:t}},yn=x({name:"ElDropdownItem",components:{ElDropdownCollectionItem:an,ElRovingFocusItem:gn,ElDropdownItemImpl:bn},inheritAttrs:!1,props:Bo,emits:["pointermove","pointerleave","click"],setup(e,{emit:t,attrs:c}){const{elDropdown:l}=Ro(),f=_o(),a=T(null),u=O(()=>{var r,h;return(h=(r=g(a))==null?void 0:r.textContent)!=null?h:""}),{onItemEnter:d,onItemLeave:s}=j(Me,void 0),o=oe(r=>(t("pointermove",r),r.defaultPrevented),We(r=>{if(e.disabled){s(r);return}const h=r.currentTarget;h===document.activeElement||h.contains(document.activeElement)||(d(r),r.defaultPrevented||h==null||h.focus())})),w=oe(r=>(t("pointerleave",r),r.defaultPrevented),We(s)),_=oe(r=>{if(!e.disabled)return t("click",r),r.type!=="keydown"&&r.defaultPrevented},r=>{var h,C,L;if(e.disabled){r.stopImmediatePropagation();return}(h=l==null?void 0:l.hideOnClick)!=null&&h.value&&((C=l.handleClick)==null||C.call(l)),(L=l.commandHandler)==null||L.call(l,e.command,f,r)}),B=O(()=>({...e,...c}));return{handleClick:_,handlePointerMove:o,handlePointerLeave:w,textContent:u,propsAndAttrs:B}}});function wn(e,t,c,l,f,a){var u;const d=K("el-dropdown-item-impl"),s=K("el-roving-focus-item"),o=K("el-dropdown-collection-item");return m(),G(o,{disabled:e.disabled,"text-value":(u=e.textValue)!=null?u:e.textContent},{default:v(()=>[p(s,{focusable:!e.disabled},{default:v(()=>[p(d,Ee(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:v(()=>[U(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var Mo=te(yn,[["render",wn],["__file","dropdown-item.vue"]]);const Cn=x({name:"ElDropdownMenu",props:tn,setup(e){const t=Le("dropdown"),{_elDropdownSize:c}=Ro(),l=c.value,{focusTrapRef:f,onKeydown:a}=j(ot,void 0),{contentRef:u,role:d,triggerId:s}=j(Me,void 0),{collectionRef:o,getItems:w}=j(rn,void 0),{rovingFocusGroupRef:_,rovingFocusGroupRootStyle:B,tabIndex:r,onBlur:h,onFocus:C,onMousedown:L}=j(xe,void 0),{collectionRef:V}=j(qe,void 0),z=O(()=>[t.b("menu"),t.bm("menu",l==null?void 0:l.value)]),A=bo(u,o,f,_,V),y=oe(k=>{var F;(F=e.onKeydown)==null||F.call(e,k)},k=>{const{currentTarget:F,code:E,target:S}=k;if(F.contains(S),H.tab===E&&k.stopImmediatePropagation(),k.preventDefault(),S!==g(u)||!sn.includes(E))return;const P=w().filter(q=>!q.disabled).map(q=>q.ref);Lo.includes(E)&&P.reverse(),Ye(P)});return{size:l,rovingFocusGroupRootStyle:B,tabIndex:r,dropdownKls:z,role:d,triggerId:s,dropdownListWrapperRef:A,handleKeydown:k=>{y(k),a(k)},onBlur:h,onFocus:C,onMousedown:L}}});function En(e,t,c,l,f,a){return m(),$("ul",{ref:e.dropdownListWrapperRef,class:M(e.dropdownKls),style:De(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:e.onBlur,onFocus:e.onFocus,onKeydown:ie(e.handleKeydown,["self"]),onMousedown:ie(e.onMousedown,["self"])},[U(e.$slots,"default")],46,["role","aria-labelledby","onBlur","onFocus","onKeydown","onMousedown"])}var Oo=te(Cn,[["render",En],["__file","dropdown-menu.vue"]]);const $n=vo(fn,{DropdownItem:Mo,DropdownMenu:Oo}),In=yo(Mo),kn=yo(Oo),Ve="_trap-focus-children",pe=[],ro=e=>{if(pe.length===0)return;const t=pe[pe.length-1][Ve];if(t.length>0&&e.code===H.tab){if(t.length===1){e.preventDefault(),document.activeElement!==t[0]&&t[0].focus();return}const c=e.shiftKey,l=e.target===t[0],f=e.target===t[t.length-1];l&&c&&(e.preventDefault(),t[t.length-1].focus()),f&&!c&&(e.preventDefault(),t[0].focus())}},Sn={beforeMount(e){e[Ve]=Xe(e),pe.push(e),pe.length<=1&&document.addEventListener("keydown",ro)},updated(e){de(()=>{e[Ve]=Xe(e)})},unmounted(){pe.shift(),pe.length===0&&document.removeEventListener("keydown",ro)}},Tn=x({name:"ElMessageBox",directives:{TrapFocus:Sn},components:{ElButton:Fe,ElFocusTrap:mo,ElInput:$e,ElOverlay:fo,ElIcon:ve,...tt},inheritAttrs:!1,props:{buttonSize:{type:String,validator:kt},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:t}){const{locale:c,zIndex:l,ns:f,size:a}=nt("message-box",O(()=>e.buttonSize)),{t:u}=c,{nextZIndex:d}=l,s=T(!1),o=ce({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",closeIcon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:"",inputValidator:void 0,inputErrorMessage:"",message:"",modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonLoadingIcon:Pe(Qe),cancelButtonLoadingIcon:Pe(Qe),confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:d()}),w=O(()=>{const n=o.type;return{[f.bm("icon",n)]:n&&Ze[n]}}),_=Be(),B=Be(),r=O(()=>{const n=o.type;return o.icon||n&&Ze[n]||""}),h=O(()=>!!o.message),C=T(),L=T(),V=T(),z=T(),A=T(),y=O(()=>o.confirmButtonClass);fe(()=>o.inputValue,async n=>{await de(),e.boxType==="prompt"&&n&&q()},{immediate:!0}),fe(()=>s.value,n=>{var b,N;n&&(e.boxType!=="prompt"&&(o.autofocus?V.value=(N=(b=A.value)==null?void 0:b.$el)!=null?N:C.value:V.value=C.value),o.zIndex=d()),e.boxType==="prompt"&&(n?de().then(()=>{var W;z.value&&z.value.$el&&(o.autofocus?V.value=(W=se())!=null?W:C.value:V.value=C.value)}):(o.editorErrorMessage="",o.validateError=!1))});const I=O(()=>e.draggable),k=O(()=>e.overflow);st(C,L,I,k),Te(async()=>{await de(),e.closeOnHashChange&&window.addEventListener("hashchange",F)}),Re(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",F)});function F(){s.value&&(s.value=!1,de(()=>{o.action&&t("action",o.action)}))}const E=()=>{e.closeOnClickModal&&P(o.distinguishCancelAndClose?"close":"cancel")},S=rt(E),Y=n=>{if(o.inputType!=="textarea")return n.preventDefault(),P("confirm")},P=n=>{var b;e.boxType==="prompt"&&n==="confirm"&&!q()||(o.action=n,o.beforeClose?(b=o.beforeClose)==null||b.call(o,n,o,F):F())},q=()=>{if(e.boxType==="prompt"){const n=o.inputPattern;if(n&&!n.test(o.inputValue||""))return o.editorErrorMessage=o.inputErrorMessage||u("el.messagebox.error"),o.validateError=!0,!1;const b=o.inputValidator;if(ze(b)){const N=b(o.inputValue);if(N===!1)return o.editorErrorMessage=o.inputErrorMessage||u("el.messagebox.error"),o.validateError=!0,!1;if(Ge(N))return o.editorErrorMessage=N,o.validateError=!0,!1}}return o.editorErrorMessage="",o.validateError=!1,!0},se=()=>{var n,b;const N=(n=z.value)==null?void 0:n.$refs;return(b=N==null?void 0:N.input)!=null?b:N==null?void 0:N.textarea},le=()=>{P("close")},ae=()=>{e.closeOnPressEscape&&le()};return e.lockScroll&&lt(s),{...at(o),ns:f,overlayEvent:S,visible:s,hasMessage:h,typeClass:w,contentId:_,inputId:B,btnSize:a,iconComponent:r,confirmButtonClasses:y,rootRef:C,focusStartRef:V,headerRef:L,inputRef:z,confirmRef:A,doClose:F,handleClose:le,onCloseRequested:ae,handleWrapperClick:E,handleInputEnter:Y,handleAction:P,t:u}}});function Fn(e,t,c,l,f,a){const u=K("el-icon"),d=K("el-input"),s=K("el-button"),o=K("el-focus-trap"),w=K("el-overlay");return m(),G(Ke,{name:"fade-in-linear",onAfterLeave:_=>e.$emit("vanish"),persisted:""},{default:v(()=>[J(p(w,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:v(()=>[i("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:M(`${e.ns.namespace.value}-overlay-message-box`),onClick:e.overlayEvent.onClick,onMousedown:e.overlayEvent.onMousedown,onMouseup:e.overlayEvent.onMouseup},[p(o,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:v(()=>[i("div",{ref:"rootRef",class:M([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:De(e.customStyle),tabindex:"-1",onClick:ie(()=>{},["stop"])},[e.title!==null&&e.title!==void 0?(m(),$("div",{key:0,ref:"headerRef",class:M([e.ns.e("header"),{"show-close":e.showClose}])},[i("div",{class:M(e.ns.e("title"))},[e.iconComponent&&e.center?(m(),G(u,{key:0,class:M([e.ns.e("status"),e.typeClass])},{default:v(()=>[(m(),G(ge(e.iconComponent)))]),_:1},8,["class"])):R("v-if",!0),i("span",null,D(e.title),1)],2),e.showClose?(m(),$("button",{key:0,type:"button",class:M(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:_=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),onKeydown:ye(ie(_=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"])},[p(u,{class:M(e.ns.e("close"))},{default:v(()=>[(m(),G(ge(e.closeIcon||"close")))]),_:1},8,["class"])],42,["aria-label","onClick","onKeydown"])):R("v-if",!0)],2)):R("v-if",!0),i("div",{id:e.contentId,class:M(e.ns.e("content"))},[i("div",{class:M(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(m(),G(u,{key:0,class:M([e.ns.e("status"),e.typeClass])},{default:v(()=>[(m(),G(ge(e.iconComponent)))]),_:1},8,["class"])):R("v-if",!0),e.hasMessage?(m(),$("div",{key:1,class:M(e.ns.e("message"))},[U(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(m(),G(ge(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(m(),G(ge(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:v(()=>[Q(D(e.dangerouslyUseHTMLString?"":e.message),1)]),_:1},8,["for"]))])],2)):R("v-if",!0)],2),J(i("div",{class:M(e.ns.e("input"))},[p(d,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":_=>e.inputValue=_,type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:M({invalid:e.validateError}),onKeydown:ye(e.handleInputEnter,["enter"])},null,8,["id","modelValue","onUpdate:modelValue","type","placeholder","aria-invalid","class","onKeydown"]),i("div",{class:M(e.ns.e("errormsg")),style:De({visibility:e.editorErrorMessage?"visible":"hidden"})},D(e.editorErrorMessage),7)],2),[[we,e.showInput]])],10,["id"]),i("div",{class:M(e.ns.e("btns"))},[e.showCancelButton?(m(),G(s,{key:0,loading:e.cancelButtonLoading,"loading-icon":e.cancelButtonLoadingIcon,class:M([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:_=>e.handleAction("cancel"),onKeydown:ye(ie(_=>e.handleAction("cancel"),["prevent"]),["enter"])},{default:v(()=>[Q(D(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","loading-icon","class","round","size","onClick","onKeydown"])):R("v-if",!0),J(p(s,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,"loading-icon":e.confirmButtonLoadingIcon,class:M([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:_=>e.handleAction("confirm"),onKeydown:ye(ie(_=>e.handleAction("confirm"),["prevent"]),["enter"])},{default:v(()=>[Q(D(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","loading-icon","class","round","disabled","size","onClick","onKeydown"]),[[we,e.showConfirmButton]])],2)],14,["onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,["aria-label","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["z-index","overlay-class","mask"]),[[we,e.visible]])]),_:3},8,["onAfterLeave"])}var Bn=te(Tn,[["render",Fn],["__file","index.vue"]]);const ke=new Map,Ln=e=>{let t=document.body;return e.appendTo&&(Ge(e.appendTo)&&(t=document.querySelector(e.appendTo)),oo(e.appendTo)&&(t=e.appendTo),oo(t)||(t=document.body)),t},Rn=(e,t,c=null)=>{const l=p(Bn,e,ze(e.message)||wo(e.message)?{default:ze(e.message)?e.message:()=>e.message}:null);return l.appContext=c,Co(l,t),Ln(e).appendChild(t.firstElementChild),l.component},Mn=()=>document.createElement("div"),On=(e,t)=>{const c=Mn();e.onVanish=()=>{Co(null,c),ke.delete(f)},e.onAction=a=>{const u=ke.get(f);let d;e.showInput?d={value:f.inputValue,action:a}:d=a,e.callback?e.callback(d,l.proxy):a==="cancel"||a==="close"?e.distinguishCancelAndClose&&a!=="cancel"?u.reject("close"):u.reject("cancel"):u.resolve(d)};const l=Rn(e,c,t),f=l.proxy;for(const a in e)eo(e,a)&&!eo(f.$props,a)&&(a==="closeIcon"&&Eo(e[a])?f[a]=Pe(e[a]):f[a]=e[a]);return f.visible=!0,f};function be(e,t=null){if(!it)return Promise.reject();let c;return Ge(e)||wo(e)?e={message:e}:c=e.callback,new Promise((l,f)=>{const a=On(e,t??be._context);ke.set(a,{options:e,callback:c,resolve:l,reject:f})})}const An=["alert","confirm","prompt"],Nn={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};An.forEach(e=>{be[e]=Dn(e)});function Dn(e){return(t,c,l,f)=>{let a="";return Eo(c)?(l=c,a=""):dt(c)?a="":a=c,be(Object.assign({title:a,message:t,type:"",...Nn[e]},l,{boxType:e}),f)}}be.close=()=>{ke.forEach((e,t)=>{t.doClose()}),ke.clear()};be._context=null;const re=be;re.install=e=>{re._context=e._context,e.config.globalProperties.$msgbox=re,e.config.globalProperties.$messageBox=re,e.config.globalProperties.$alert=re.alert,e.config.globalProperties.$confirm=re.confirm,e.config.globalProperties.$prompt=re.prompt};const Pn=re,zn={key:0,class:"text-center py-2 text-gray-500 text-sm"},Vn={key:1,class:"text-center py-2 text-gray-500 text-sm"},Kn=x({__name:"list",props:{autoScroll:{type:Boolean,default:!0},messages:{type:Array,default:()=>[]},enableLoadMore:{type:Boolean,default:!1},enableLoadNew:{type:Boolean,default:!1},contentClass:{type:String,default:""}},emits:["loadMore","loadNew"],setup(e,{expose:t,emit:c}){const l=e,f=c,a=T(null),u=T(!1),d=T(null),s=T(!1),o=T(!1),w=()=>{if(!a.value)return;const{scrollTop:r,scrollHeight:h,clientHeight:C}=a.value;r<50&&!s.value&&l.enableLoadMore&&(s.value=!0,f("loadMore",()=>{s.value=!1})),h-r-C>50&&(u.value=!0),h-r-C<10&&(u.value=!1,!o.value&&l.enableLoadNew&&(o.value=!0,f("loadNew",()=>{o.value=!1})))},_=async()=>{await de(),a.value&&(a.value.scrollTop=a.value.scrollHeight)},B=()=>{a.value&&(d.value=new MutationObserver(()=>{l.autoScroll&&!u.value&&_()}),d.value.observe(a.value,{childList:!0,subtree:!0,characterData:!0}))};return fe(()=>l.messages,()=>{l.autoScroll&&!u.value&&_()},{deep:!0}),Te(()=>{var r;B(),_(),(r=a.value)==null||r.addEventListener("scroll",w)}),$o(()=>{var r,h;(r=a.value)==null||r.removeEventListener("scroll",w),(h=d.value)==null||h.disconnect()}),t({scrollToBottom:_}),(r,h)=>(m(),$("div",{ref_key:"contentRef",ref:a,class:"overflow-y-auto h-full",onScroll:w},[s.value?(m(),$("div",zn,[i("span",null,D(r.$t("common.load_more"))+"...",1)])):R("",!0),p(ct,{name:"message",tag:"div",class:M([e.contentClass])},{default:v(()=>[(m(!0),$(ne,null,Ie(e.messages,(C,L)=>U(r.$slots,"item",{key:C.id,message:C,index:L},void 0,!0)),128))]),_:3},8,["class"]),o.value?(m(),$("div",Vn,[i("span",null,D(r.$t("common.load_new"))+"...",1)])):R("",!0)],544))}}),Un=_e(Kn,[["__scopeId","data-v-8bddc4de"]]),Hn={class:"text-base text-[#1D1E1F] animate-bounce"},io=x({__name:"preview",props:{content:{default:""},typewriter:{type:Boolean,default:!1},typingSpeed:{default:50}},setup(e){const t=e,c=T(),l=T(""),f=T(null),a=T(!1),u=(d,s)=>{f.value&&clearTimeout(f.value),a.value=!0;const o=l.value.length;if(d.length<=o){l.value=d,Ne(c.value,l.value),a.value=!1;return}const w=d.length-o,_=Math.max(10,Math.floor(1e3/s));let B=0;const r=()=>{B<w?(l.value=d.substring(0,o+B+1),Ne(c.value,l.value),c.value&&(c.value.scrollTop=c.value.scrollHeight),B++,f.value=window.setTimeout(r,_)):a.value=!1};r()};return fe([()=>t.content,()=>t.typewriter],([d,s],[o])=>{!s&&o?u(d,t.typingSpeed*2):!s&&!o?de(()=>{c.value&&(l.value=d,Ne(c.value,d))}):u(d,t.typingSpeed)},{immediate:!0}),$o(()=>{f.value&&clearTimeout(f.value)}),(d,s)=>(m(),$("div",{ref_key:"contentRef",ref:c,class:M(["markdown-preview vditor-reset",{"typewriter-mode":d.typewriter,"is-typing":a.value}])},[!d.content&&d.typewriter?U(d.$slots,"loading",{key:0},()=>[i("span",Hn,D(d.$t("common.loading"))+"... ",1)]):R("",!0)],2))}}),Gn={class:"flex items-start mb-4 group"},qn={class:"max-w-[100%]"},xn={class:"bg-[#F7F7F7] text-base text-primary rounded-xl p-4 bubble-robot"},Yn=["open"],Jn={style:{width:"16px",height:"16px"}},jn={class:"flex-1"},Wn=x({__name:"bubble-robot",props:{message:{default:""},reasoning:{default:""},avatar:{default:""},loading:{type:Boolean,default:!1},alwaysShowFooter:{type:Boolean,default:!1}},setup(e){const t=e,c=T(t.loading);return fe(()=>t.loading,l=>{l===!0&&(c.value=!0)}),(l,f)=>(m(),$("div",Gn,[i("div",qn,[U(l.$slots,"header",{},void 0,!0),i("div",xn,[l.reasoning?(m(),$("details",{key:0,open:c.value||!l.message},[i("summary",null,[(m(),$("svg",Jn,f[0]||(f[0]=[i("use",{"xlink:href":"#icon-star-link",fill:"rgba(24, 43, 80, 0.8)"},null,-1)]))),i("span",jn,D(l.message?l.$t("chat.completion_completed"):l.$t("chat.completion_thinking")),1)]),p(io,{content:l.reasoning,typewriter:l.loading},null,8,["content","typewriter"])],8,Yn)):R("",!0),p(io,{content:l.message,typewriter:l.loading},{loading:v(()=>f[1]||(f[1]=[i("div",{class:"loading-dots"},[i("div",{class:"dot dot1"}),i("div",{class:"dot dot2"})],-1)])),_:1},8,["content","typewriter"])]),i("div",{class:M(["flex items-center gap-3 mt-2",{"invisible group-hover:visible":!l.alwaysShowFooter}])},[U(l.$slots,"footer",{},void 0,!0)],2)])]))}}),Xn=_e(Wn,[["__scopeId","data-v-eb7c0b84"]]),Qn={class:"flex items-start justify-end mb-4 group"},Zn={class:"max-w-[100%] text-right"},es={class:"bg-[#FFFFFF] text-base text-primary rounded-xl p-4 shadow text-left break-words whitespace-pre-wrap"},os={class:"flex items-center gap-3 mt-2 invisible group-hover:visible"},ts=x({__name:"bubble-user",props:{message:{type:String,default:""},avatar:{type:String,default:""}},setup(e){return(t,c)=>(m(),$("div",Qn,[i("div",Zn,[U(t.$slots,"header",{},void 0,!0),U(t.$slots,"content",{},()=>[i("div",es,[i("p",null,D(e.message),1)])],!0),i("div",os,[U(t.$slots,"footer",{},void 0,!0)])])]))}}),ns=_e(ts,[["__scopeId","data-v-1196ccd6"]]),ss={};function ls(e,t){return null}const as=_e(ss,[["render",ls]]),rs={key:0,class:"h-10 flex gap-4 border-b mx-4"},is={class:"w-[280px]"},ds={class:"border flex items-center p-1 rounded"},cs={class:"flex-center pb-2"},us={class:"flex items-center gap-1 cursor-pointer"},ps={class:"pl-2 pr-4 py-3 shadow-md"},fs={key:1,class:"flex flex-wrap gap-2"},ms={key:1,class:"absolute top-0 left-0 right-0 bottom-0 rounded bg-black/50 flex-center text-sm text-white"},vs=["onClick"],gs={class:"flex items-center justify-end"},hs={key:1,class:"absolute left-0 right-0 top-0 bottom-0 px-4 rounded-md flex items-center bg-[#F5F8FF]"},_s={class:"flex-1 flex-center gap-3"},bs={class:"text-sm text-[#2563EB]"},ys={class:"flex items-center gap-2"},ws={class:"text-sm text-[#1B2B51]"},co=3,Cs=60,Es=x({__name:"sender",props:{placeholder:{default:window.$t("chat.input_placeholder")},fileUpload:{default:{enabled:!1}},speechToText:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},emits:["stop","confirm"],setup(e,{expose:t,emit:c}){const l=e,f=c,a=T(),u=T(),d=`chat-input_${Math.random().toString(36).substr(2,9)}`,s=T(!1),o=ce({question:"",oFileList:[]}),w=ce({remote_url:""}),_=ce({recording:!1,time:0}),B=O(()=>l.fileUpload.image||{enabled:!1,transfer_methods:[],number_limits:6}),r=O(()=>B.value.number_limits-o.oFileList.length),h=O(()=>_.recording?!1:s.value||o.oFileList.length||o.question.trim()),C=O(()=>o.oFileList.length?!o.oFileList.every(n=>n.percentage===100):!(o.question||"").trim()),L=n=>new Promise(b=>{const N=new FileReader;N.onload=W=>{var X;return b(((X=W.target)==null?void 0:X.result)||"")},N.readAsDataURL(n)}),V=n=>{const b=Math.floor(n/60),N=Math.floor(n%60);return`${b.toString().padStart(2,"0")}:${N.toString().padStart(2,"0")}`},z=()=>{u.value.trigger()},A=async n=>{if(!n.url){const b=await L(n.raw);n.url=b,n.upload_file_id=n.id||"",n.type="image",n.is_error=1,n.transfer_method="local_file",n.belongs_to="user"}},y=async n=>{n.upload_file_id=n.id,n.is_error=0},I=n=>{n.is_error=1},k=n=>{const b=o.oFileList[n];o.oFileList.splice(n,1),b.raw&&u.value.handleRemove(b.raw)},F=()=>{!r.value||!w.remote_url||(o.oFileList.push({type:"image",transfer_method:"remote_url",url:w.remote_url,upload_file_id:"",is_error:0,belongs_to:"user",percentage:100}),w.remote_url="")},E=()=>{s.value=!0},S=()=>{if(_.time<co)return Io.warning(`录音时间至少${co}秒`)},Y=()=>{},P=()=>{f("stop")},q=()=>{C.value||(f("confirm",{question:o.question,files:[...o.oFileList]}),o.question="")},se=n=>{n.key==="Enter"&&!n.shiftKey&&(n.preventDefault(),q())},le=n=>n.classList&&n.classList.contains(d)?!0:n.parentNode?le(n.parentNode):!1,ae=n=>{le(n.target)||(s.value=!1)};return Te(()=>{document.addEventListener("click",ae)}),Re(()=>{document.removeEventListener("click",ae)}),t({clearState:()=>{o.question="",o.oFileList=[]}}),(n,b)=>{const N=$e,W=Fe,X=K("svg-icon"),ue=He,Oe=ve,Ao=Et,No=$e,Ae=me("debounce"),Je=me("tooltip");return m(),$("div",{class:M(["w-full m-auto border rounded bg-white relative input",[d,h.value?"border-primary":""]])},[h.value&&B.value.enabled?(m(),$("div",rs,[R("",!0),B.value.enabled?(m(),$(ne,{key:1},[J(i("div",null,[p(as,{ref_key:"fileUploadRef",ref:u,"file-list":o.oFileList,"onUpdate:fileList":b[0]||(b[0]=Z=>o.oFileList=Z),size:10,multiple:"",limit:B.value.number_limits,accept:".jpg,.png",onProgress:A,onSuccess:y},null,8,["file-list","limit"])],512),[[we,!1]]),B.value.transfer_methods.includes("remote_url")?(m(),G(ue,{key:0,effect:"light",trigger:"click",placement:"top","append-to":`.${d}`,"show-arrow":!1,"popper-class":"corp-switch-popper"},{content:v(()=>[i("div",is,[i("div",ds,[p(N,{modelValue:w.remote_url,"onUpdate:modelValue":b[1]||(b[1]=Z=>w.remote_url=Z),placeholder:"将图片链接粘贴至此处",type:"text",class:"flex-1",style:{"--el-input-text-color":"#182b50","--el-input-bg-color":"transparent","--el-border-color":"none","--el-input-focus-border":"none","--el-input-hover-border":"none","--el-input-hover-border-color":"none","--el-input-focus-border-color":"none"},onKeypress:ye(F,["enter"])},null,8,["modelValue"]),p(W,{disabled:!w.remote_url,type:"primary",onClick:F},{default:v(()=>b[4]||(b[4]=[Q(" 好的 ")])),_:1},8,["disabled"])]),B.value.transfer_methods.includes("local_file")?(m(),$(ne,{key:0},[b[6]||(b[6]=i("div",{class:"flex-center my-3"},[i("div",{class:"w-[47px] h-px bg-[#EDEEF1]"}),i("span",{class:"text-xs text-[#182B50] text-opacity-40 px-3"},"OR"),i("div",{class:"w-[47px] h-px bg-[#EDEEF1]"})],-1)),i("div",cs,[i("div",{class:"flex items-center gap-1 text-xs text-[#2563EB] cursor-pointer",onClick:z},[p(X,{name:"image",width:"16px",height:"16px"}),b[5]||(b[5]=Q(" 从本地上传 "))])])],64)):R("",!0)])]),default:v(()=>[i("div",us,[p(X,{name:"image",width:"14px",height:"14px",color:"#525D78"}),b[7]||(b[7]=i("span",{class:"text-xs text-[#182B50CC]"},"图片",-1))])]),_:1},8,["append-to"])):J((m(),$("div",{key:1,class:"flex items-center gap-1 cursor-pointer",onClick:z},[p(X,{name:"image",width:"14px",height:"14px",color:"#525D78"}),b[8]||(b[8]=i("span",{class:"text-xs text-[#182B50CC]"},"图片",-1))])),[[Ae]])],64)):R("",!0),R("",!0)])):R("",!0),i("div",ps,[R("",!0),o.oFileList.length?(m(),$("div",fs,[(m(!0),$(ne,null,Ie(o.oFileList,(Z,Do)=>(m(),$("div",{key:Z.uid,class:"flex-none h-12 w-12 relative bg-[#F6F7F9] group"},[Z.url?(m(),G(Ao,{key:0,class:"w-12 h-12 rounded",fit:"cover",src:Z.url,onError:Po=>I(Z)},null,8,["src","onError"])):R("",!0),Z.percentage<100?(m(),$("div",ms,D(Z.percentage)+"% ",1)):R("",!0),i("div",{class:"w-4 h-4 absolute -right-2 -top-2 cursor-pointer bg-white rounded-full invisible group-hover:visible",onClick:Po=>k(Do)},[p(Oe,{color:"#8C929F",class:"!absolute left-0 top-0"},{default:v(()=>[p(g(to))]),_:1})],8,vs)]))),128))])):R("",!0),p(No,{modelValue:o.question,"onUpdate:modelValue":b[2]||(b[2]=Z=>o.question=Z),placeholder:n.placeholder,type:"textarea",rows:3,style:{"--el-input-text-color":"#182b50","--el-input-bg-color":"transparent","--el-border-color":"none","--el-input-focus-border":"none","--el-input-hover-border":"none","--el-input-hover-border-color":"none","--el-input-focus-border-color":"none"},resize:"none",maxlength:1e4,onFocus:E,onKeypress:se},null,8,["modelValue","placeholder"]),i("div",gs,[R("",!0),n.loading?J((m(),$("div",{key:1,class:"size-8 flex-center rounded-full bg-white text-[#2563EB] cursor-pointer shadow relative overflow-hidden",onClick:P},b[12]||(b[12]=[i("div",{class:"absolute inset-0 rounded-full border-2 border-[#2563EB] border-t-transparent animate-spin"},null,-1),i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",class:"z-10"},[i("path",{fill:"currentColor",d:"M6 16V8q0-.825.588-1.412T8 6h8q.825 0 1.413.588T18 8v8q0 .825-.587 1.413T16 18H8q-.825 0-1.412-.587T6 16"})],-1)]))),[[Je,{content:n.$t("action.stop")}]]):J((m(),$("div",{key:2,class:M(["size-8 flex-center rounded-full cursor-pointer shadow",[C.value?"bg-[#F3F3F5] text-primary":"bg-primary text-white"]]),onClick:q},[p(Oe,null,{default:v(()=>[p(g(ut))]),_:1})],2)),[[Je,{content:n.$t("action.send")}]])])]),_.recording?(m(),$("div",hs,[b[13]||(b[13]=i("div",{class:"text-sm text-[#9EA6BA]"},"现在讲...",-1)),i("div",_s,[i("div",{ref_key:"recWaveRef",ref:a,class:"flex-none w-32 h-10 rec-wave-bar"},null,512),i("div",bs,D(Cs-_.time)+"''后停止录音",1)]),i("div",ys,[J((m(),$("div",{class:"cursor-pointer",onClick:S},[p(X,{name:"paused",color:"#2563EB",width:"20"})])),[[Ae]]),J((m(),G(Oe,{class:"cursor-pointer",size:"20",color:"#CCCCCC",onClick:Y},{default:v(()=>[p(g(to))]),_:1})),[[Ae]]),i("div",ws,D(V(_.time)),1)])])):R("",!0)],2)}}}),$s=_e(Es,[["__scopeId","data-v-9c8557e7"]]),Is={class:"p-5 w-[596px]"},ks={class:"flex items-center justify-between"},Ss={class:"text-lg text-primary"},Ts={class:"h-[300px] overflow-y-auto mt-5"},Fs={class:"grid grid-cols-2 gap-4"},Bs=["onClick"],Ls={class:"flex-1"},Rs={class:"text-base font-medium text-primary mb-1"},Ms={class:"text-sm text-secondary line-clamp-1"},Os=x({__name:"agent-tooltip",emits:["select"],setup(e,{emit:t}){const c=t,l=pt(),f=T(),a=ce({keyword:"",group_id:0}),u=O(()=>{if(a.keyword){const o=a.keyword.toLowerCase().trim();return l.agentList.filter(w=>{const _=w.name.toLowerCase().includes(o)||w.description&&w.description.toLowerCase().includes(o);return(a.group_id===0||w.group_id===a.group_id)&&_})}else return a.group_id===0?l.agentList:l.agentList.filter(o=>o.group_id===a.group_id)}),d=()=>{f.value.hide()},s=o=>{c("select",o),d()};return(o,w)=>{const _=ve,B=$e,r=yt,h=wt,C=St,L=It,V=He,z=me("tooltip");return m(),G(V,{ref_key:"tooltipRef",ref:f,effect:"light",trigger:"click","popper-class":"el-popper--plain",placement:"top-start"},{content:v(()=>[i("div",Is,[i("div",ks,[i("h4",Ss,D(o.$t("action.find"))+D(o.$t("module.agent")),1),J((m(),$("div",{class:"size-5 flex-center rounded cursor-pointer hover:bg-[#E1E2E3]",onClick:d},[p(_,null,{default:v(()=>[p(g(Ue))]),_:1})])),[[z,{content:o.$t("action.close")}]])]),p(B,{size:"large",modelValue:a.keyword,"onUpdate:modelValue":w[0]||(w[0]=A=>a.keyword=A),placeholder:o.$t("action.search")+o.$t("module.agent"),"prefix-icon":g(ft),class:"mt-4 el-input--main"},null,8,["modelValue","placeholder","prefix-icon"]),p(h,{class:"index-tabs mt-4",modelValue:a.group_id,"onUpdate:modelValue":w[1]||(w[1]=A=>a.group_id=A)},{default:v(()=>[(m(!0),$(ne,null,Ie(g(l).categorys,A=>(m(),G(r,{key:A.group_id,label:A.group_name,name:A.group_id},null,8,["label","name"]))),128))]),_:1},8,["modelValue"]),i("div",Ts,[i("div",Fs,[(m(!0),$(ne,null,Ie(u.value,(A,y)=>(m(),$("div",{key:y,class:"flex items-center p-3 bg-[#F8F9FA] rounded-lg cursor-pointer",onClick:I=>s(A)},[p(C,{size:36,src:A.logo,class:"mr-2"},null,8,["src"]),i("div",Ls,[i("h3",Rs,D(A.name),1),i("p",Ms,D(A.description||"- -"),1)])],8,Bs))),128))]),u.value.length===0?(m(),G(L,{key:0,description:o.$t("common.no_data"),"image-size":100,image:o.$getPublicPath("/images/chat/completion_empty.png")},null,8,["description","image"])):R("",!0)])])]),default:v(()=>[U(o.$slots,"default")]),_:3},512)}}}),As={class:"flex flex-col gap-2 mt-4"},Ns=["onClick"],Ds={class:"flex items-center gap-2"},Ps={class:"flex-1 text-sm text-primary truncate"},zs={class:"size-7 flex-center cursor-pointer invisible group-hover:visible"},Vs={class:"text-[#FA5151] flex-center"},Ks={class:"mt-2 text-xs text-secondary"},Us=x({__name:"history",emits:["new"],setup(e,{expose:t,emit:c}){const l=c,f=ko(),a=O(()=>f.currentConversation),u=T(!1),d=ce({editVisible:!1}),s=ce({conversation_id:0,title:""}),o=()=>{l("new"),u.value=!1},w=async()=>{await f.editConversation(s),d.editVisible=!1},_=async r=>{await Pn.confirm(window.$t("chat.conversation_confirm_delete"),window.$t("action.del"),{confirmButtonText:window.$t("action.del"),cancelButtonText:window.$t("action.cancel"),type:"warning"}),f.delConversation(r)},B=(r,h)=>{r==="del"?_(h):r==="edit"&&(s.conversation_id=h.conversation_id,s.title=h.title,d.editVisible=!0)};return t({open(){u.value=!0}}),(r,h)=>{const C=Fe,L=K("svg-icon"),V=In,z=kn,A=$n,y=Mt,I=$e,k=mt,F=me("trim"),E=me("debounce");return m(),$(ne,null,[p(y,{modelValue:u.value,"onUpdate:modelValue":h[0]||(h[0]=S=>u.value=S),title:r.$t("chat.history"),size:"300px"},{default:v(()=>[p(C,{class:"w-full border-none -mt-8",type:"primary",size:"large",plain:"",onClick:o},{default:v(()=>[Q(" + "+D(r.$t("chat.new_conversation")),1)]),_:1}),i("div",As,[(m(!0),$(ne,null,Ie(g(f).conversations,S=>(m(),$("div",{key:S.conversation_id,class:M(["group p-3 rounded cursor-pointer hover:bg-[#F5F6FA]",[a.value.conversation_id===S.conversation_id?"bg-[#F5F6FA]":""]]),onClick:Y=>g(f).setCurrentState(S.agent_id,S.conversation_id)},[i("div",Ds,[i("div",Ps,D(S.title),1),p(A,{onCommand:Y=>B(Y,S)},{dropdown:v(()=>[p(z,null,{default:v(()=>[p(V,{command:"edit"},{default:v(()=>[p(L,{name:"edit",class:"mr-1"}),Q(" "+D(r.$t("action.rename")),1)]),_:1}),p(V,{command:"del"},{default:v(()=>[i("span",Vs,[p(L,{name:"del",class:"mr-1"}),Q(" "+D(r.$t("action.del")),1)])]),_:1})]),_:1})]),default:v(()=>[i("div",zs,[p(L,{name:"more-h"})])]),_:2},1032,["onCommand"])]),i("div",Ks,D(S.created_at),1)],10,Ns))),128))])]),_:1},8,["modelValue","title"]),p(k,{modelValue:d.editVisible,"onUpdate:modelValue":h[3]||(h[3]=S=>d.editVisible=S),title:r.$t("chat.edit_conversation"),width:"480"},{footer:v(()=>[p(C,{onClick:h[2]||(h[2]=S=>d.editVisible=!1)},{default:v(()=>[Q(D(r.$t("action.cancel")),1)]),_:1}),J((m(),G(C,{type:"primary",disabled:!s.title.trim(),onClick:w},{default:v(()=>[Q(D(r.$t("action.confirm")),1)]),_:1},8,["disabled"])),[[E]])]),default:v(()=>[J(p(I,{size:"large",modelValue:s.title,"onUpdate:modelValue":h[1]||(h[1]=S=>s.title=S),placeholder:r.$t("form.input_placeholder"),maxlength:20,"show-word-limit":""},null,8,["modelValue","placeholder"]),[[F]])]),_:1},8,["modelValue","title"])],64)}}}),Hs={completions(e,t){return vt.post("/v1/chat/completions",e,t).catch(gt)}},Gs={class:"h-full flex bg-white relative overflow-hidden"},qs={class:"flex-1 flex flex-col"},xs=["title"],Ys={class:"flex items-center gap-1 text-sm text-secondary"},Js={class:"size-4"},js={class:"h-6 px-1 rounded flex-center cursor-pointer hover:bg-[#E1E2E3]"},Ws={class:"h-6 px-1 rounded flex-center cursor-pointer hover:bg-[#E1E2E3]"},Xs=["onClick"];const Qs={class:"w-4/5 max-w-[800px] mx-auto py-5"},Zs={class:"flex gap-2 mb-2.5"},el={class:"h-8 px-2 rounded-full flex-center gap-1.5 bg-[#F1F2F3] cursor-pointer hover:bg-[#E1E2E3]"},ol=["src"],tl={class:"text-sm text-primary"},nl={class:"size-4 flex-center"},sl={class:"size-4"},ll={class:"size-4"},al={key:0,class:"w-2/5 border-l bg-white"},rl={class:"h-16 flex-center border-b relative"},il={class:"text-lg text-primary"},dl=x({__name:"index",setup(e){const t=_t(()=>bt(()=>import("./helper-AjQFlBX_.js"),__vite__mapDeps([0,1,2,3,4]))),c=ko(),l=T(),f=T(),a=T(null),u=O(()=>c.currentAgent),d=O(()=>c.currentConversation),s=ce({offset:0,limit:10,showHelper:!1,messageList:[],isStreaming:!1,isLoadingMore:!1,hasMore:!0}),o=()=>{var y;(y=l.value)==null||y.open()},w=()=>{s.showHelper=!s.showHelper},_=y=>{c.pushUsualAgent(y),c.setCurrentState(y.agent_id,0)},B=()=>{c.setCurrentState(u.value.agent_id,0)},r=(y,I)=>{var Y,P,q,se,le,ae,n;const k=s.messageList[s.messageList.length-1];if(!((Y=y.event)!=null&&Y.target))return I;const F=y.event.target.response||"",E=F.substring(I),S=F.length;try{const b=E.split(`
`).filter(N=>N.trim()!==""&&N.trim()!=="data: [DONE]");for(const N of b)if(N.startsWith("data: "))try{const W=JSON.parse(N.slice(6)),X=(se=(q=(P=W.choices)==null?void 0:P[0])==null?void 0:q.delta)==null?void 0:se.content,ue=(n=(ae=(le=W.choices)==null?void 0:le[0])==null?void 0:ae.delta)==null?void 0:n.reasoning_content;X&&(k.answer+=X),ue&&(k.reasoning_content+=ue)}catch(W){console.error("解析JSON失败:",W)}}catch(b){console.error("处理流数据失败:",b)}return S},h=async y=>{if(s.isStreaming)return;const I=u.value.agent_id,k=d.value.conversation_id,F={query:y,answer:"",loading:!0,agent_id:I,conversation_id:k,reasoning_content:""};s.messageList.push(F);const S=JSON.parse(u.value.configs||"{}").completion_params||{};s.isStreaming=!0,a.value=new AbortController;let Y=0;try{await Hs.completions({conversation_id:k,model:"agent-"+I,messages:[{content:y,role:"user"}],frequency_penalty:0,presence_penalty:0,stream:!0,temperature:0,top_p:0,...S},{responseType:"stream",onDownloadProgress:P=>{Y=r(P,Y)},signal:a.value.signal})}catch(P){if(P.message!=="canceled"){const q=s.messageList[s.messageList.length-1];q&&!q.answer&&(q.answer=window.$t("response_code.network_error"))}}finally{const P=s.messageList[s.messageList.length-1];P&&(P.loading=!1),s.isStreaming=!1,a.value=null}},C=async y=>{var k;const I=u.value.agent_id;if(!I)return Io.warning(window.$t("chat.no_available_agent"));if(!d.value.conversation_id)try{const F=await c.createConversation(I,y.question);c.addConversation({...F,virtual_id:d.value.virtual_id}),c.setCurrentState(F.agent_id,F.conversation_id)}catch(F){console.error("创建对话失败:",F);return}await h(y.question),(k=f.value)==null||k.clearState()},L=()=>{a.value&&(a.value.abort(),a.value=null),s.isStreaming=!1},V=async y=>{await h(y.query)},z=async y=>{if(s.isLoadingMore||!s.hasMore)return y();const I=d.value.conversation_id;if(I){s.isLoadingMore=!0,s.offset+=s.limit;try{const F=(await so.messasges(I,{offset:s.offset,limit:s.limit})).data.messages.map(E=>({...E,query:JSON.parse(E.message)[0].content}));F.length<s.limit&&(s.hasMore=!1),s.messageList.unshift(...F)}catch(k){console.error("加载更多消息失败:",k),s.offset=Math.max(0,s.offset-s.limit)}finally{s.isLoadingMore=!1,y()}}},A=async()=>{const y=d.value.conversation_id;if(y){s.isLoadingMore=!0,s.offset=0,s.hasMore=!0;try{const I=await so.messasges(y,{offset:s.offset,limit:s.limit});s.messageList=[];const k=I.data.messages.map(F=>({...F,query:JSON.parse(F.message)[0].content}));k.length<s.limit&&(s.hasMore=!1),s.messageList.unshift(...k)}catch(I){console.error("加载消息列表失败:",I)}finally{s.isLoadingMore=!1}}};return Te(()=>{A()}),(y,I)=>{const k=K("svg-icon"),F=K("router-link"),E=ve,S=me("tooltip"),Y=me("copy");return m(),$(ne,null,[i("div",Gs,[i("div",qs,[p(Ct,null,{before_suffix:v(()=>[i("div",{class:"text-base text-primary line-clamp-1",title:d.value.title||u.value.name||""},D(d.value.title||u.value.name||""),9,xs)]),after_prefix:v(()=>[i("div",Ys,[p(k,{name:"index"}),p(F,{to:{name:"Home"}},{default:v(()=>[Q(D(y.$t("common.back_home")),1)]),_:1})]),I[0]||(I[0]=i("div",{class:"border-r w-px h-3 mx-2"},null,-1))]),after_suffix:v(()=>[J((m(),$("div",{class:"h-[26px] px-2 rounded-full flex-center gap-1.5 text-sm text-primary cursor-pointer hover:bg-[#E1E2E3]",onClick:w},[i("div",Js,[p(k,{name:"layout-split",size:"18"})])])),[[S,{content:y.$t("chat.usage_guide")}]])]),_:1}),p(Un,{class:"flex-1 mt-5",messages:s.messageList,contentClass:"w-4/5 max-w-[800px] mx-auto",enableLoadMore:"",onLoadMore:z},{item:v(({message:P,index:q})=>[p(ns,{message:P.query},{footer:v(()=>[J((m(),$("div",js,[p(E,{color:"#9B9B9B"},{default:v(()=>[p(g(no))]),_:1})])),[[S,{content:y.$t("action.copy")}],[Y,P.query]])]),_:2},1032,["message"]),p(Xn,{message:P.answer,reasoning:P.reasoning_content,loading:P.loading,alwaysShowFooter:q===s.messageList.length-1},ho({_:2},[P.loading?void 0:{name:"footer",fn:v(()=>[J((m(),$("div",Ws,[p(E,{color:"#9B9B9B"},{default:v(()=>[p(g(no))]),_:1})])),[[S,{content:y.$t("action.copy")}],[Y,P.answer]]),J((m(),$("div",{class:"h-6 px-1 rounded flex-center cursor-pointer hover:bg-[#E1E2E3]",onClick:se=>V(P)},[p(E,{color:"#9B9B9B"},{default:v(()=>[p(g(ht))]),_:1})],8,Xs)),[[S,{content:y.$t("chat.regenerate")}]]),R("",!0),R("",!0)]),key:"0"}]),1032,["message","reasoning","loading","alwaysShowFooter"])]),_:1},8,["messages"]),i("div",Qs,[i("div",Zs,[p(Os,{onSelect:_},{default:v(()=>[i("div",el,[i("img",{class:"size-4 rounded-full",src:u.value.logo,alt:""},null,8,ol),i("span",tl,D(u.value.name),1),i("div",nl,[p(E,{color:"#333333"},{default:v(()=>[p(g(go))]),_:1})])])]),_:1}),R("",!0),I[1]||(I[1]=i("div",{class:"flex-1"},null,-1)),i("div",{class:"h-8 px-2 rounded-full flex-center gap-1.5 bg-[#F1F2F3] text-sm text-primary cursor-pointer hover:bg-[#E1E2E3]",onClick:o},[i("div",sl,[p(k,{name:"history"})]),Q(" "+D(y.$t("chat.history")),1)]),i("div",{class:"h-8 px-2 rounded-full flex-center gap-1.5 bg-[#F1F2F3] text-sm text-primary cursor-pointer hover:bg-[#E1E2E3]",onClick:B},[i("div",ll,[p(k,{name:"plus"})]),Q(" "+D(y.$t("chat.new_conversation")),1)])]),p($s,{ref_key:"chatSenderRef",ref:f,loading:s.isStreaming,onConfirm:C,onStop:L},null,8,["loading"])])]),p(Ke,{name:"slide"},{default:v(()=>[s.showHelper?(m(),$("div",al,[i("div",rl,[i("h4",il,D(y.$t("chat.usage_guide")),1),i("div",{class:"flex-center size-6 absolute right-2 top-1/2 -translate-y-1/2 rounded cursor-pointer hover:bg-[#ECEDEE]",onClick:w},[p(E,null,{default:v(()=>[p(g(Ue))]),_:1})])]),p(g(t),{agent:u.value},null,8,["agent"])])):R("",!0)]),_:1})]),p(Us,{ref_key:"historyRef",ref:l,onNew:B},null,512)],64)}}}),_l=_e(dl,[["__scopeId","data-v-57cb0b87"]]);export{_l as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/helper-AjQFlBX_.js","assets/main-A2Vq01lO.js","assets/main-XGPidYU5.css","assets/el-empty-5yz1TKk6.js","assets/el-empty-YAdQPiXB.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
