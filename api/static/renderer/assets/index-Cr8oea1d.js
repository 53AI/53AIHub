import{B as C,al as g,r as y,G as h,am as w,o as A,a8 as B,a as F,c as H,b as f,h as R,e as x,u as S,an as U,F as k,_ as L,A as M}from"./main-rMrzitnj.js";import{u as b}from"./conversation-DF0D4MXO.js";const D=C({__name:"index",props:{hideMenuHeader:{type:Boolean,default:!1},hideFooter:{type:Boolean,default:!1},showRecommend:{type:Boolean,default:!1},useCaseFixed:{type:Boolean,default:!1},showHistory:{type:Boolean,default:!1}},setup(E,{expose:m}){const _=U(()=>L(()=>import("./index-CNsSwWHK.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29]))),i=B(),d=g(),t=b(),s=y(),u=h(()=>t.currentConversation),p=h(()=>t.currentAgent);return w(()=>i.query,async e=>{const o=Number(e.agent_id||"0"),c=e.conversation_id||"",n=await d.loadAgentList(),l=n.find(a=>a.agent_id===o);if(l)t.pushUsualAgent(l);else{const a=t.usual_agents[0]||n[0];a&&t.pushUsualAgent(a)}if(t.updateAgents(n),!c)t.setCurrentState(o,0);else{const r=(await t.loadConversations()).find(v=>v.conversation_id===+c);r&&t.setCurrentState(r.agent_id,r.conversation_id)}},{immediate:!0}),A(async()=>{t.setBasePath(i.path.includes("/index")?"/index/chat":"/chat"),d.loadCategorys()}),F(()=>{t.clearCurrentState()}),m({detailData:p,showUseCase:()=>{var e;(e=s.value)==null||e.showUseCase()},hideUseCase:()=>{var e;(e=s.value)==null||e.hideUseCase()}}),(e,o)=>(f(),H(k,null,[(f(),R(S(_),{ref_key:"chatRef",ref:s,class:"flex-1",key:u.value.virtual_id||u.value.conversation_id,hideMenuHeader:e.hideMenuHeader,hideFooter:e.hideFooter,showRecommend:e.showRecommend,useCaseFixed:e.useCaseFixed,showHistory:e.showHistory},null,8,["hideMenuHeader","hideFooter","showRecommend","useCaseFixed","showHistory"])),x("",!0)],64))}}),I=M(D,[["__scopeId","data-v-b53d7936"]]);export{I as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/index-CNsSwWHK.js","assets/main-rMrzitnj.js","assets/main-DHFufoST.css","assets/index.vue_vue_type_script_setup_true_lang-Dyw1-bcV.js","assets/el-skeleton-item-B0ua8UfR.js","assets/el-skeleton-item-ODRhKdw_.css","assets/enterprise-KlloCPVp.js","assets/header.vue_vue_type_script_setup_true_lang-DPdmbbEj.js","assets/el-tooltip-l0sNRNKZ.js","assets/el-image-viewer-DTkaUA3n.js","assets/el-image-viewer-DG_2v4dI.css","assets/global-CvDIHAI-.js","assets/el-popper-BQQS4pqe.css","assets/el-empty-B6pXs88B.js","assets/el-empty-Bln_guyL.css","assets/upload-GPSY5QUJ.js","assets/upload-Ca9gIz_i.css","assets/el-tab-pane-CWT3dWDV.js","assets/index-CKGd0eSL.js","assets/el-tab-pane-BMLBX8qJ.css","assets/index.vue_vue_type_style_index_0_lang-BHH8ITGU.js","assets/m-footer.vue_vue_type_script_setup_true_lang--GH4gBVN.js","assets/navigation-B33KJ0Ar.js","assets/list.vue_vue_type_script_setup_true_lang-TwFWUo-P.js","assets/index-qmSmFxLi.css","assets/el-dropdown-item-BnWnA72a.js","assets/el-dropdown-item-CnPF8_aM.css","assets/conversation-DF0D4MXO.js","assets/index-Bm6Us-tl.js","assets/index-Bz6PVJzA.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
