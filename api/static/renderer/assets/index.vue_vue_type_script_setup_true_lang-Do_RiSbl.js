import{B as L,C as $,E as I,G as g,r as y,o as H,c as _,b as a,h as v,e as N,k as z,f as r,w as h,d,t as A,u as x,H as O,I as b,p as U,F as M,J as j,K as q,L as D,M as F}from"./main-BBgPs3nN.js";import{E as G,a as J}from"./el-tab-pane-BXYRrgBt.js";import{_ as K}from"./el-empty-D1WTDJPJ.js";import{_ as P}from"./header.vue_vue_type_script_setup_true_lang-BvU7t-Zn.js";import{_ as X}from"./m-footer.vue_vue_type_script_setup_true_lang-CoNpBAbo.js";import{T as Q}from"./list-Bawd8B_U.js";import{u as W}from"./links-HyRgHMBP.js";import{u as Y}from"./navigation--r8Ze85R.js";const Z={class:"text-base text-primary font-bold line-clamp-1 max-md:flex-1 max-md:text-center"},ee={class:"w-11/12 lg:w-4/5 mx-auto"},de=L({__name:"index",props:{hideHeader:{type:Boolean,default:!1},onlyAll:{type:Boolean,default:!1},stickyOffset:{default:70}},setup(w){const u=w,S=$(),s=W(),V=Y(),t=I({group_id:0,keyword:""}),n=g(()=>u.hideHeader||S.is_login?u.stickyOffset:0),c=y(!1),C=g(()=>s.categorys.filter(e=>(e.group_id===0,!0))),R=g(()=>s.links.filter(o=>t.group_id===0?!0:o.group_id===t.group_id)),B=y(),k=F("mainScrollRef"),T=()=>{const o=`#group_${t.group_id}`,e=k?k.value:document.querySelector("main"),i=e.querySelector(o);if(i){const p=e.getBoundingClientRect(),m=i.getBoundingClientRect(),f=e.scrollTop+m.top-p.top-(n.value+150);e.scrollTo({top:Math.max(0,f),behavior:"smooth"})}},E=y();return H(()=>{c.value=!0,s.loadCategorys(),s.loadLinks().finally(()=>{c.value=!1})}),(o,e)=>{const i=J,p=G,m=D,f=O;return a(),_("div",null,[o.hideHeader?N("",!0):(a(),v(P,{key:0,sticky:""},{before_suffix:h(()=>[d("div",Z,A(x(V).toolkitNavigation.name||o.$t("module.toolbox")),1)]),after_prefix:h(()=>e[3]||(e[3]=[])),_:1})),z((a(),_("div",{ref_key:"scrollRef",ref:B,class:"pb-6 box-border",style:b({height:(o.hideHeader,"100%")})},[d("div",ee,[d("div",{ref_key:"headerRef",ref:E,class:U(["left-0 z-[2] sticky top-0 bg-white flex md:flex-row flex-col-reverse gap-5 items-stretch md:items-center justify-between py-6 md:py-8 px-[16px] box-border rounded-[4px] overflow-hidden",[n.value?"":"lg:py-10"]]),style:b([{top:n.value?n.value+"px":"0"},{width:"calc(100% + 32px)",transform:"translateX(-16px)"}])},[r(p,{modelValue:t.group_id,"onUpdate:modelValue":e[0]||(e[0]=l=>t.group_id=l),class:"index-tabs flex-1 overflow-hidden",style:{"--el-tabs-header-height":"36px"},onTabClick:T},{default:h(()=>[(a(!0),_(M,null,j(C.value,l=>(a(),v(i,{key:l.group_name,label:l.group_name,name:l.group_id},null,8,["label","name"]))),128))]),_:1},8,["modelValue"]),d("div",null,[r(K,{class:"hidden md:flex",modelValue:t.keyword,"onUpdate:modelValue":e[1]||(e[1]=l=>t.keyword=l),placeholder:o.$t("action.search")+o.$t("module.prompt")},null,8,["modelValue","placeholder"]),r(m,{modelValue:t.keyword,"onUpdate:modelValue":e[2]||(e[2]=l=>t.keyword=l),size:"large",class:"w-full md:hidden el-input--main",placeholder:o.$t("toolbox.search_placeholder"),"prefix-icon":x(q)},null,8,["modelValue","placeholder","prefix-icon"])])],6),r(Q,{class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-5",keyword:t.keyword,list:R.value,groupId:t.group_id,onlyAll:o.onlyAll},null,8,["keyword","list","groupId","onlyAll"])])],4)),[[f,c.value]]),r(X)])}}});export{de as _};
