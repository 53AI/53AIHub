import{B as C,al as g,r as y,G as h,am as w,o as A,a8 as B,a as F,c as H,b as f,h as R,e as x,u as S,an as U,F as k,_ as L,A as M}from"./main-BBgPs3nN.js";import{u as b}from"./conversation-DMiFL_SA.js";const D=C({__name:"index",props:{hideMenuHeader:{type:Boolean,default:!1},hideFooter:{type:Boolean,default:!1},showRecommend:{type:Boolean,default:!1},useCaseFixed:{type:Boolean,default:!1},showHistory:{type:Boolean,default:!1}},setup(E,{expose:m}){const _=U(()=>L(()=>import("./index-BmegXpbp.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29]))),i=B(),d=g(),t=b(),s=y(),u=h(()=>t.currentConversation),p=h(()=>t.currentAgent);return w(()=>i.query,async e=>{const o=Number(e.agent_id||"0"),c=e.conversation_id||"",n=await d.loadAgentList(),l=n.find(a=>a.agent_id===o);if(l)t.pushUsualAgent(l);else{const a=t.usual_agents[0]||n[0];a&&t.pushUsualAgent(a)}if(t.updateAgents(n),!c)t.setCurrentState(o,0);else{const r=(await t.loadConversations()).find(v=>v.conversation_id===+c);r&&t.setCurrentState(r.agent_id,r.conversation_id)}},{immediate:!0}),A(async()=>{t.setBasePath(i.path.includes("/index")?"/index/chat":"/chat"),d.loadCategorys(),t.loadConversations()}),F(()=>{t.clearCurrentState()}),m({detailData:p,showUseCase:()=>{var e;(e=s.value)==null||e.showUseCase()},hideUseCase:()=>{var e;(e=s.value)==null||e.hideUseCase()}}),(e,o)=>(f(),H(k,null,[(f(),R(S(_),{ref_key:"chatRef",ref:s,class:"flex-1",key:u.value.virtual_id||u.value.conversation_id,hideMenuHeader:e.hideMenuHeader,hideFooter:e.hideFooter,showRecommend:e.showRecommend,useCaseFixed:e.useCaseFixed,showHistory:e.showHistory},null,8,["hideMenuHeader","hideFooter","showRecommend","useCaseFixed","showHistory"])),x("",!0)],64))}}),I=M(D,[["__scopeId","data-v-424da4bc"]]);export{I as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/index-BmegXpbp.js","assets/main-BBgPs3nN.js","assets/main-DklsoqOQ.css","assets/index.vue_vue_type_script_setup_true_lang-CcgRuqTc.js","assets/el-skeleton-item-DbyboWZs.js","assets/el-skeleton-item-ODRhKdw_.css","assets/enterprise-DmjadQC3.js","assets/header.vue_vue_type_script_setup_true_lang-BvU7t-Zn.js","assets/el-tooltip-l0sNRNKZ.js","assets/el-image-viewer-A53N9KxQ.js","assets/el-image-viewer-DG_2v4dI.css","assets/global-BfzvD2b7.js","assets/el-popper-BQQS4pqe.css","assets/el-empty-D1WTDJPJ.js","assets/el-empty-Bln_guyL.css","assets/upload-BjfPWs6X.js","assets/upload-Ca9gIz_i.css","assets/el-tab-pane-BXYRrgBt.js","assets/index-BKq5N4AA.js","assets/el-tab-pane-BMLBX8qJ.css","assets/index.vue_vue_type_style_index_0_lang-CK0OHayj.js","assets/m-footer.vue_vue_type_script_setup_true_lang-CoNpBAbo.js","assets/navigation--r8Ze85R.js","assets/list.vue_vue_type_script_setup_true_lang-Dmu0sfLQ.js","assets/index-qmSmFxLi.css","assets/el-dropdown-item-BbQgf2kh.js","assets/el-dropdown-item-CnPF8_aM.css","assets/conversation-DMiFL_SA.js","assets/index-DGqMuONG.js","assets/index-Bz6PVJzA.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
